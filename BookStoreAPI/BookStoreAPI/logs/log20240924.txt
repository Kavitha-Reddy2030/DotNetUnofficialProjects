2024-09-24 11:16:42.211 +05:30 [INF] Starting up the application...
2024-09-24 11:16:44.818 +05:30 [DBG] Hosting starting
2024-09-24 11:16:44.982 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 11:16:45.025 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 11:16:45.094 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 11:16:45.122 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 11:16:45.153 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:16:45.159 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 11:16:45.163 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:16:45.174 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 11:16:45.182 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 11:16:45.190 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 11:16:45.191 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 11:16:45.827 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 11:16:45.828 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 11:16:45.828 +05:30 [INF] Hosting environment: Development
2024-09-24 11:16:45.828 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 11:16:45.828 +05:30 [DBG] Hosting started
2024-09-24 11:16:45.978 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 11:16:45.984 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 11:16:46.423 +05:30 [DBG] Connection ID "18302628908719144962" disconnecting.
2024-09-24 11:16:46.432 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 458.1416ms
2024-09-24 11:16:46.671 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 11:16:46.973 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 302.3701ms
2024-09-24 11:16:46.974 +05:30 [DBG] Connection ID "18374686494167138314" disconnecting.
2024-09-24 11:16:55.010 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 11:16:55.018 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 11:16:55.119 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 11:16:55.132 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 11:16:55.134 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 11:16:55.486 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:16:55.506 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2024-09-24 11:16:55.519 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 11:16:55.522 +05:30 [DBG] Connection ID "18374686498462105603" disconnecting.
2024-09-24 11:16:55.522 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 401 - - 512.6352ms
2024-09-24 11:17:44.009 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/login application/json 41
2024-09-24 11:17:44.009 +05:30 [DBG] POST requests are not supported
2024-09-24 11:17:44.012 +05:30 [DBG] 1 candidate(s) found for the request path '/login'
2024-09-24 11:17:44.012 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'login' is valid for the request path '/login'
2024-09-24 11:17:44.012 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:17:44.016 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:17:44.025 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:17:44.041 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 11:17:44.097 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 11:17:44.098 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 11:17:44.098 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 11:17:44.098 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 11:17:44.098 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 11:17:44.099 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 11:17:44.100 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:17:44.317 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 11:17:44.377 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:17:44.391 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:17:44.394 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 11:17:44.395 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 11:17:44.440 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 11:17:44.441 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:17:44.441 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:17:44.441 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:17:44.445 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:17:46.040 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 11:17:46.180 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 11:17:46.441 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 11:17:46.530 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:17:46.642 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (100ms).
2024-09-24 11:17:46.667 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:17:47.187 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:17:47.227 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:17:47.360 +05:30 [INF] Executed DbCommand (153ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:17:47.423 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:17:47.493 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:17:47.499 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:17:47.513 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:17:47.702 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 3593.4067ms
2024-09-24 11:17:47.705 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:17:47.816 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 11:17:48.537 +05:30 [DBG] Connection ID "18374686498462105605" disconnecting.
2024-09-24 11:17:48.540 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 11:17:48.544 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/login application/json 41 - 500 - application/json 4534.6225ms
2024-09-24 11:21:27.543 +05:30 [INF] Starting up the application...
2024-09-24 11:21:29.849 +05:30 [DBG] Hosting starting
2024-09-24 11:21:29.984 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 11:21:30.020 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 11:21:30.081 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 11:21:30.120 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 11:21:30.148 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:21:30.159 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 11:21:30.163 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:21:30.177 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 11:21:30.185 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 11:21:30.194 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 11:21:30.196 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 11:21:30.801 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 11:21:30.802 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 11:21:30.802 +05:30 [INF] Hosting environment: Development
2024-09-24 11:21:30.802 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 11:21:30.802 +05:30 [DBG] Hosting started
2024-09-24 11:21:30.997 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 11:21:31.007 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 11:21:31.648 +05:30 [DBG] Connection ID "18374686498462105607" disconnecting.
2024-09-24 11:21:31.661 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 677.6346ms
2024-09-24 11:21:31.859 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 11:21:32.222 +05:30 [DBG] Connection ID "18230571293206380545" disconnecting.
2024-09-24 11:21:32.223 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 363.7825ms
2024-09-24 11:21:39.451 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 11:21:39.459 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 11:21:39.541 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 11:21:39.557 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 11:21:39.560 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 11:21:39.820 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:21:39.831 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2024-09-24 11:21:39.838 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 11:21:39.841 +05:30 [DBG] Connection ID "18374686502757072901" disconnecting.
2024-09-24 11:21:39.841 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 401 - - 390.7771ms
2024-09-24 11:22:00.318 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/register application/json 55
2024-09-24 11:22:00.319 +05:30 [DBG] POST requests are not supported
2024-09-24 11:22:00.321 +05:30 [DBG] 1 candidate(s) found for the request path '/register'
2024-09-24 11:22:00.321 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)' with route pattern 'register' is valid for the request path '/register'
2024-09-24 11:22:00.321 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 11:22:00.340 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:22:00.346 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 11:22:00.367 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 11:22:00.457 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 11:22:00.458 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 11:22:00.459 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 11:22:00.459 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 11:22:00.460 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 11:22:00.460 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 11:22:00.463 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:22:00.715 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 11:22:00.773 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:22:00.789 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 11:22:00.796 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 11:22:00.798 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 11:22:00.854 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 11:22:00.855 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 11:22:00.855 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 11:22:00.855 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 11:22:00.862 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 11:22:02.505 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 11:22:02.663 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __registerDTO_Username_0)'
2024-09-24 11:22:03.011 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__registerDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 11:22:03.122 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:22:03.223 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (94ms).
2024-09-24 11:22:03.251 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:03.834 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:03.872 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 11:22:03.996 +05:30 [INF] Executed DbCommand (141ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 11:22:04.029 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:22:04.040 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:04.052 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:04.112 +05:30 [DBG] 'BookStoreDbContext' generated a value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:22:04.209 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:22:04.216 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 11:22:04.221 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 11:22:04.242 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 11:22:04.283 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:04.285 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:04.287 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 11:22:04.305 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 11:22:04.412 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:22:04.413 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 11:22:04.416 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 11:22:04.421 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 11:22:04.433 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:22:04.438 +05:30 [DBG] Committing transaction.
2024-09-24 11:22:04.446 +05:30 [DBG] Committed transaction.
2024-09-24 11:22:04.449 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:04.449 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:04.452 +05:30 [DBG] Disposing transaction.
2024-09-24 11:22:04.478 +05:30 [DBG] An entity of type 'User' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:22:04.482 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 11:22:04.489 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 11:22:04.495 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 11:22:04.495 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 11:22:04.495 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 11:22:04.497 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-24 11:22:04.497 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-24 11:22:04.513 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI) in 4040.2299ms
2024-09-24 11:22:04.515 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 11:22:04.521 +05:30 [DBG] Connection ID "18374686498462105609" disconnecting.
2024-09-24 11:22:04.526 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 11:22:04.534 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/register application/json 55 - 200 - text/plain;+charset=utf-8 4215.4939ms
2024-09-24 11:22:54.558 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/login application/json 79
2024-09-24 11:22:54.558 +05:30 [DBG] POST requests are not supported
2024-09-24 11:22:54.560 +05:30 [DBG] 1 candidate(s) found for the request path '/login'
2024-09-24 11:22:54.560 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'login' is valid for the request path '/login'
2024-09-24 11:22:54.560 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:22:54.565 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:22:54.566 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:22:54.574 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 11:22:54.575 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 11:22:54.575 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 11:22:54.575 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 11:22:54.575 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 11:22:54.575 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 11:22:54.575 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:22:54.582 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:22:54.584 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:22:54.585 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 11:22:54.585 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 11:22:54.587 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 11:22:54.587 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:22:54.587 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:22:54.587 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:22:54.589 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:22:54.710 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 11:22:54.711 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 11:22:54.719 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 11:22:54.720 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:22:54.720 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 11:22:54.721 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:54.721 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:54.721 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:22:54.724 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:22:54.754 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:22:54.756 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:22:54.756 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:54.756 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:22:54.856 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 280.2601ms
2024-09-24 11:22:54.856 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:22:54.997 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 11:22:55.504 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 11:22:55.504 +05:30 [DBG] Connection ID "18374686498462105611" disconnecting.
2024-09-24 11:22:55.504 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/login application/json 79 - 500 - application/json 946.1855ms
2024-09-24 11:23:24.748 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/login application/json 41
2024-09-24 11:23:24.750 +05:30 [DBG] POST requests are not supported
2024-09-24 11:23:24.755 +05:30 [DBG] 1 candidate(s) found for the request path '/login'
2024-09-24 11:23:24.756 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'login' is valid for the request path '/login'
2024-09-24 11:23:24.756 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:23:24.756 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:23:24.757 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:23:24.757 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 11:23:24.757 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 11:23:24.757 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 11:23:24.757 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 11:23:24.758 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 11:23:24.758 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 11:23:24.758 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:23:24.764 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:23:24.764 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:23:24.765 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 11:23:24.765 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 11:23:24.765 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 11:23:24.765 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:23:24.765 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:23:24.765 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:23:24.765 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:23:24.800 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 11:23:24.807 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:23:24.807 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 11:23:24.807 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:23:24.808 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:23:24.808 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:23:24.815 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:23:24.824 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:23:24.825 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:23:24.826 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:23:24.827 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:23:24.896 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 138.5903ms
2024-09-24 11:23:24.897 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:23:25.001 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 11:23:25.005 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 11:23:25.005 +05:30 [DBG] Connection ID "18302628891539275787" disconnecting.
2024-09-24 11:23:25.006 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/login application/json 41 - 500 - application/json 257.8483ms
2024-09-24 11:25:01.305 +05:30 [INF] Starting up the application...
2024-09-24 11:25:03.264 +05:30 [DBG] Hosting starting
2024-09-24 11:25:03.387 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 11:25:03.419 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 11:25:03.474 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 11:25:03.512 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 11:25:03.537 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:25:03.546 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 11:25:03.551 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:25:03.564 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 11:25:03.573 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 11:25:03.580 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 11:25:03.582 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 11:25:04.072 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 11:25:04.073 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 11:25:04.073 +05:30 [INF] Hosting environment: Development
2024-09-24 11:25:04.073 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 11:25:04.073 +05:30 [DBG] Hosting started
2024-09-24 11:25:04.183 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 11:25:04.188 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 11:25:04.680 +05:30 [DBG] Connection ID "18374686485577203722" disconnecting.
2024-09-24 11:25:04.695 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 517.5913ms
2024-09-24 11:25:04.884 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 11:25:05.189 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 304.8176ms
2024-09-24 11:25:05.189 +05:30 [DBG] Connection ID "18230571293206380547" disconnecting.
2024-09-24 11:26:13.568 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/login application/json 41
2024-09-24 11:26:13.573 +05:30 [DBG] POST requests are not supported
2024-09-24 11:26:13.644 +05:30 [DBG] 1 candidate(s) found for the request path '/login'
2024-09-24 11:26:13.657 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'login' is valid for the request path '/login'
2024-09-24 11:26:13.660 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:26:13.952 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:26:13.959 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:26:13.975 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 11:26:14.042 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 11:26:14.044 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 11:26:14.044 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 11:26:14.045 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 11:26:14.045 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 11:26:14.045 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 11:26:14.046 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:26:14.279 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 11:26:14.339 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:26:14.348 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:26:14.350 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 11:26:14.351 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 11:26:14.403 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 11:26:14.405 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:26:14.405 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:26:14.405 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:26:14.413 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:26:15.696 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 11:26:15.816 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 11:26:16.092 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 11:26:16.188 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:26:16.294 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (95ms).
2024-09-24 11:26:16.314 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:26:16.868 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:26:16.897 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:26:16.990 +05:30 [INF] Executed DbCommand (104ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:26:17.035 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:26:17.077 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:26:17.083 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:26:17.094 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:26:17.207 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 3150.5901ms
2024-09-24 11:26:17.209 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:26:17.341 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 11:26:17.811 +05:30 [DBG] Connection ID "18374686498462105613" disconnecting.
2024-09-24 11:26:17.815 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 11:26:17.827 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/login application/json 41 - 500 - application/json 4258.8681ms
2024-09-24 11:28:57.045 +05:30 [INF] Starting up the application...
2024-09-24 11:28:59.284 +05:30 [DBG] Hosting starting
2024-09-24 11:28:59.438 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 11:28:59.467 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 11:28:59.531 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 11:28:59.572 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 11:28:59.593 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:28:59.601 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 11:28:59.609 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:28:59.623 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 11:28:59.630 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 11:28:59.637 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 11:28:59.640 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 11:29:00.139 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 11:29:00.140 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 11:29:00.140 +05:30 [INF] Hosting environment: Development
2024-09-24 11:29:00.141 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 11:29:00.141 +05:30 [DBG] Hosting started
2024-09-24 11:29:00.240 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 11:29:00.247 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 11:29:00.838 +05:30 [DBG] Connection ID "18374686502757072903" disconnecting.
2024-09-24 11:29:00.853 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 618.4180ms
2024-09-24 11:29:01.264 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 11:29:01.584 +05:30 [DBG] Connection ID "18302628891539275790" disconnecting.
2024-09-24 11:29:01.584 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 320.0031ms
2024-09-24 11:29:51.737 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/login application/json 41
2024-09-24 11:29:51.743 +05:30 [DBG] POST requests are not supported
2024-09-24 11:29:51.850 +05:30 [DBG] 1 candidate(s) found for the request path '/login'
2024-09-24 11:29:51.863 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'login' is valid for the request path '/login'
2024-09-24 11:29:51.865 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:29:52.096 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:29:52.104 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:29:52.123 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 11:29:52.205 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 11:29:52.207 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 11:29:52.208 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 11:29:52.208 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 11:29:52.209 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 11:29:52.209 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 11:29:52.212 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:29:52.501 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 11:29:52.584 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:29:52.599 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:29:52.603 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 11:29:52.604 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 11:29:52.666 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 11:29:52.667 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:29:52.667 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:29:52.667 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:29:52.674 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:29:54.780 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 11:29:54.992 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 11:29:55.366 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 11:29:55.470 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:29:55.579 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (99ms).
2024-09-24 11:29:55.602 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:29:56.177 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:29:56.214 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:29:56.330 +05:30 [INF] Executed DbCommand (132ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:29:56.394 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:29:56.460 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:29:56.467 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:29:56.479 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:29:56.593 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 4372.7856ms
2024-09-24 11:29:56.596 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:29:56.747 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 11:29:57.205 +05:30 [DBG] Connection ID "18302628887244308483" disconnecting.
2024-09-24 11:29:57.209 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 11:29:57.213 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/login application/json 41 - 500 - application/json 5476.4136ms
2024-09-24 11:34:09.756 +05:30 [INF] Starting up the application...
2024-09-24 11:34:11.678 +05:30 [DBG] Hosting starting
2024-09-24 11:34:11.824 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 11:34:11.869 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 11:34:11.941 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 11:34:11.978 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 11:34:12.016 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:34:12.024 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 11:34:12.028 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:34:12.042 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 11:34:12.052 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 11:34:12.059 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 11:34:12.062 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 11:34:12.630 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 11:34:12.632 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 11:34:12.632 +05:30 [INF] Hosting environment: Development
2024-09-24 11:34:12.632 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 11:34:12.633 +05:30 [DBG] Hosting started
2024-09-24 11:34:12.774 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 11:34:12.783 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 11:34:13.399 +05:30 [DBG] Connection ID "18374686502757072905" disconnecting.
2024-09-24 11:34:13.407 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 643.9365ms
2024-09-24 11:34:13.611 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 11:34:13.972 +05:30 [DBG] Connection ID "18374686481282236422" disconnecting.
2024-09-24 11:34:13.972 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 361.2732ms
2024-09-24 11:34:29.029 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/register application/json 57
2024-09-24 11:34:29.036 +05:30 [DBG] POST requests are not supported
2024-09-24 11:34:29.110 +05:30 [DBG] 1 candidate(s) found for the request path '/register'
2024-09-24 11:34:29.125 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)' with route pattern 'register' is valid for the request path '/register'
2024-09-24 11:34:29.127 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 11:34:29.381 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:34:29.388 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 11:34:29.409 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 11:34:29.516 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 11:34:29.518 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 11:34:29.519 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 11:34:29.519 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 11:34:29.520 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 11:34:29.520 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 11:34:29.522 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:34:29.810 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 11:34:29.877 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:34:29.892 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 11:34:29.900 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 11:34:29.902 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 11:34:29.963 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 11:34:29.965 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 11:34:29.965 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 11:34:29.966 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 11:34:29.971 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 11:34:31.590 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 11:34:31.751 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __registerDTO_Username_0)'
2024-09-24 11:34:32.110 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__registerDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 11:34:32.212 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:34:32.317 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (95ms).
2024-09-24 11:34:32.341 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:34:32.917 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:34:32.957 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 11:34:33.089 +05:30 [INF] Executed DbCommand (153ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 11:34:33.120 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:34:33.125 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:34:33.135 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:34:33.186 +05:30 [DBG] 'BookStoreDbContext' generated a value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:34:33.269 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:34:33.276 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 11:34:33.283 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 11:34:33.303 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 11:34:33.348 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:34:33.351 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:34:33.354 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 11:34:33.370 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 11:34:33.483 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:34:33.483 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 11:34:33.486 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 11:34:33.492 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 11:34:33.502 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:34:33.509 +05:30 [DBG] Committing transaction.
2024-09-24 11:34:33.517 +05:30 [DBG] Committed transaction.
2024-09-24 11:34:33.523 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:34:33.523 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:34:33.529 +05:30 [DBG] Disposing transaction.
2024-09-24 11:34:33.555 +05:30 [DBG] An entity of type 'User' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:34:33.559 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 11:34:33.571 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 11:34:33.574 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 11:34:33.575 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 11:34:33.575 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 11:34:33.576 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-24 11:34:33.577 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-24 11:34:33.590 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI) in 4061.1816ms
2024-09-24 11:34:33.591 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 11:34:33.597 +05:30 [DBG] Connection ID "18374686481282236424" disconnecting.
2024-09-24 11:34:33.601 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 11:34:33.605 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/register application/json 57 - 200 - text/plain;+charset=utf-8 4576.0479ms
2024-09-24 11:35:15.503 +05:30 [INF] Starting up the application...
2024-09-24 11:35:17.813 +05:30 [DBG] Hosting starting
2024-09-24 11:35:17.975 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 11:35:18.008 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 11:35:18.066 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 11:35:18.100 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 11:35:18.125 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:35:18.134 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 11:35:18.138 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:35:18.153 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 11:35:18.164 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 11:35:18.175 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 11:35:18.177 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 11:35:18.745 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 11:35:18.746 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 11:35:18.746 +05:30 [INF] Hosting environment: Development
2024-09-24 11:35:18.746 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 11:35:18.747 +05:30 [DBG] Hosting started
2024-09-24 11:35:18.875 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 11:35:18.879 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 11:35:19.369 +05:30 [DBG] Connection ID "18374686494167138318" disconnecting.
2024-09-24 11:35:19.381 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 512.0206ms
2024-09-24 11:35:19.570 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 11:35:19.949 +05:30 [DBG] Connection ID "18374686485577203725" disconnecting.
2024-09-24 11:35:19.949 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 379.3135ms
2024-09-24 11:35:32.970 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/login application/json 43
2024-09-24 11:35:32.974 +05:30 [DBG] POST requests are not supported
2024-09-24 11:35:33.051 +05:30 [DBG] 1 candidate(s) found for the request path '/login'
2024-09-24 11:35:33.060 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'login' is valid for the request path '/login'
2024-09-24 11:35:33.064 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:35:33.343 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:35:33.351 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:35:33.383 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 11:35:33.482 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 11:35:33.486 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 11:35:33.486 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 11:35:33.486 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 11:35:33.486 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 11:35:33.487 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 11:35:33.488 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:35:33.791 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 11:35:33.864 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:35:33.875 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:35:33.881 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 11:35:33.883 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 11:35:33.934 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 11:35:33.935 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:35:33.935 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:35:33.935 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:35:33.940 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:35:35.643 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 11:35:35.797 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 11:35:36.159 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 11:35:36.277 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:35:36.387 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (99ms).
2024-09-24 11:35:36.411 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:35:37.046 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:35:37.077 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:35:37.212 +05:30 [INF] Executed DbCommand (147ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:35:37.261 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:35:37.319 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:35:37.327 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:35:37.338 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:35:37.461 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 3963.8119ms
2024-09-24 11:35:37.463 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:35:37.613 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 11:35:38.048 +05:30 [DBG] Connection ID "18230571310386249729" disconnecting.
2024-09-24 11:35:38.052 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 11:35:38.056 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/login application/json 43 - 500 - application/json 5085.7876ms
2024-09-24 11:35:48.716 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 11:35:48.717 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 11:35:48.722 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 11:35:48.723 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 11:35:48.723 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 11:35:48.723 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:35:48.742 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2024-09-24 11:35:48.757 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 11:35:48.762 +05:30 [DBG] Connection ID "18374686481282236426" disconnecting.
2024-09-24 11:35:48.762 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 401 - - 45.5484ms
2024-09-24 11:43:28.482 +05:30 [INF] Starting up the application...
2024-09-24 11:43:31.251 +05:30 [DBG] Hosting starting
2024-09-24 11:43:31.415 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 11:43:31.459 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 11:43:31.526 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 11:43:31.560 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 11:43:31.589 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:43:31.600 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 11:43:31.604 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:43:31.621 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 11:43:31.634 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 11:43:31.647 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 11:43:31.649 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 11:43:32.345 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 11:43:32.346 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 11:43:32.346 +05:30 [INF] Hosting environment: Development
2024-09-24 11:43:32.347 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 11:43:32.347 +05:30 [DBG] Hosting started
2024-09-24 11:43:32.485 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 11:43:32.493 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 11:43:33.051 +05:30 [DBG] Connection ID "18302628904424177666" disconnecting.
2024-09-24 11:43:33.065 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 591.1110ms
2024-09-24 11:43:33.262 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 11:43:33.630 +05:30 [DBG] Connection ID "18302628891539275794" disconnecting.
2024-09-24 11:43:33.630 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 368.6305ms
2024-09-24 11:43:43.910 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/login application/json 43
2024-09-24 11:43:43.916 +05:30 [DBG] POST requests are not supported
2024-09-24 11:43:44.002 +05:30 [DBG] 1 candidate(s) found for the request path '/login'
2024-09-24 11:43:44.019 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'login' is valid for the request path '/login'
2024-09-24 11:43:44.021 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:43:44.275 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:43:44.283 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:43:44.302 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 11:43:44.382 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 11:43:44.383 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 11:43:44.384 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 11:43:44.384 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 11:43:44.384 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 11:43:44.384 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 11:43:44.386 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:43:44.729 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 11:43:44.810 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:43:44.825 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:43:44.833 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 11:43:44.835 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 11:43:44.887 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 11:43:44.888 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:43:44.888 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:43:44.888 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:43:44.894 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:43:46.770 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 11:43:46.958 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 11:43:47.342 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 11:43:47.439 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:43:47.553 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (101ms).
2024-09-24 11:43:47.579 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:43:48.145 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:43:48.184 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:43:48.336 +05:30 [INF] Executed DbCommand (171ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:43:48.383 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:43:48.438 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:43:48.447 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:43:48.457 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:43:48.586 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 4191.3605ms
2024-09-24 11:43:48.588 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:43:48.751 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 11:43:49.157 +05:30 [DBG] Connection ID "18374686481282236428" disconnecting.
2024-09-24 11:43:49.161 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 11:43:49.168 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/login application/json 43 - 500 - application/json 5258.5605ms
2024-09-24 11:48:49.492 +05:30 [INF] Starting up the application...
2024-09-24 11:48:51.703 +05:30 [DBG] Hosting starting
2024-09-24 11:48:51.826 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 11:48:51.864 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 11:48:51.929 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 11:48:51.960 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 11:48:51.983 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:48:51.989 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 11:48:51.993 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:48:52.011 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 11:48:52.019 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 11:48:52.026 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 11:48:52.028 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 11:48:52.545 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 11:48:52.546 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 11:48:52.546 +05:30 [INF] Hosting environment: Development
2024-09-24 11:48:52.546 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 11:48:52.547 +05:30 [DBG] Hosting started
2024-09-24 11:48:52.669 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 11:48:52.674 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 11:48:53.184 +05:30 [DBG] Connection ID "18374686502757072907" disconnecting.
2024-09-24 11:48:53.198 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 538.0116ms
2024-09-24 11:48:53.388 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 11:48:53.658 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 269.4828ms
2024-09-24 11:48:53.659 +05:30 [DBG] Connection ID "18302628904424177668" disconnecting.
2024-09-24 11:49:09.808 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/login application/json 57
2024-09-24 11:49:09.816 +05:30 [DBG] POST requests are not supported
2024-09-24 11:49:09.888 +05:30 [DBG] 1 candidate(s) found for the request path '/login'
2024-09-24 11:49:09.899 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'login' is valid for the request path '/login'
2024-09-24 11:49:09.902 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:49:10.192 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:49:10.201 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:49:10.223 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 11:49:10.344 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 11:49:10.348 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 11:49:10.348 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 11:49:10.349 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 11:49:10.350 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 11:49:10.350 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 11:49:10.353 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:49:10.638 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 11:49:10.704 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:49:10.719 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:49:10.723 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 11:49:10.725 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 11:49:10.788 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 11:49:10.789 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:49:10.789 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:49:10.789 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:49:10.795 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:49:12.546 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 11:49:12.703 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 11:49:13.137 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 11:49:13.254 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:49:13.373 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (107ms).
2024-09-24 11:49:13.396 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:49:14.029 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:49:14.066 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:49:14.199 +05:30 [INF] Executed DbCommand (149ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:49:14.259 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:49:14.321 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:49:14.330 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:49:14.342 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:49:14.463 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 4098.7838ms
2024-09-24 11:49:14.466 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:49:14.621 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 11:49:15.048 +05:30 [DBG] Connection ID "18230571318976184321" disconnecting.
2024-09-24 11:49:15.051 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 11:49:15.058 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/login application/json 57 - 500 - application/json 5250.1157ms
2024-09-24 11:58:38.423 +05:30 [INF] Starting up the application...
2024-09-24 11:58:40.516 +05:30 [DBG] Hosting starting
2024-09-24 11:58:40.668 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 11:58:40.707 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 11:58:40.773 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 11:58:40.806 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 11:58:40.835 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:58:40.842 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 11:58:40.846 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 11:58:40.856 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 11:58:40.864 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 11:58:40.874 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 11:58:40.876 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 11:58:41.449 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 11:58:41.449 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 11:58:41.450 +05:30 [INF] Hosting environment: Development
2024-09-24 11:58:41.450 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 11:58:41.450 +05:30 [DBG] Hosting started
2024-09-24 11:58:41.585 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 11:58:41.592 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 11:58:42.083 +05:30 [DBG] Connection ID "18374686498462105618" disconnecting.
2024-09-24 11:58:42.101 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 525.8917ms
2024-09-24 11:58:42.275 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 11:58:42.557 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 281.7330ms
2024-09-24 11:58:42.557 +05:30 [DBG] Connection ID "18374686507052040201" disconnecting.
2024-09-24 11:58:49.397 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 11:58:49.408 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 11:58:49.501 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 11:58:49.515 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 11:58:49.517 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 11:58:49.937 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:58:49.952 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2024-09-24 11:58:49.964 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 11:58:49.967 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 401 - - 570.2941ms
2024-09-24 11:58:49.967 +05:30 [DBG] Connection ID "18374686485577203727" disconnecting.
2024-09-24 11:59:06.462 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/login application/json 57
2024-09-24 11:59:06.463 +05:30 [DBG] POST requests are not supported
2024-09-24 11:59:06.466 +05:30 [DBG] 1 candidate(s) found for the request path '/login'
2024-09-24 11:59:06.466 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'login' is valid for the request path '/login'
2024-09-24 11:59:06.466 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:59:06.470 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 11:59:06.473 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:59:06.495 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 11:59:06.590 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 11:59:06.593 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 11:59:06.593 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 11:59:06.594 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 11:59:06.594 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 11:59:06.594 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 11:59:06.596 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:59:06.831 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 11:59:06.898 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 11:59:06.912 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:59:06.916 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 11:59:06.917 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 11:59:06.977 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 11:59:06.978 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:59:06.978 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:59:06.979 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 11:59:06.984 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 11:59:08.734 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 11:59:08.894 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 11:59:09.291 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 11:59:09.440 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 11:59:09.580 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (126ms).
2024-09-24 11:59:09.599 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:59:10.250 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:59:10.284 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:59:10.440 +05:30 [INF] Executed DbCommand (168ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 11:59:10.498 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 11:59:10.552 +05:30 [DBG] A data reader was disposed.
2024-09-24 11:59:10.560 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:59:10.569 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 11:59:10.711 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 4101.8867ms
2024-09-24 11:59:10.715 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 11:59:10.885 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 11:59:11.375 +05:30 [DBG] Connection ID "18230571293206380549" disconnecting.
2024-09-24 11:59:11.379 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 11:59:11.386 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/login application/json 57 - 500 - application/json 4924.0907ms
2024-09-24 12:08:49.304 +05:30 [INF] Starting up the application...
2024-09-24 12:08:53.375 +05:30 [DBG] Hosting starting
2024-09-24 12:08:53.532 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 12:08:53.582 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 12:08:53.666 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 12:08:53.710 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 12:08:53.741 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:08:53.753 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 12:08:53.757 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:08:53.776 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 12:08:53.790 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 12:08:53.801 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 12:08:53.805 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 12:08:54.439 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 12:08:54.440 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 12:08:54.440 +05:30 [INF] Hosting environment: Development
2024-09-24 12:08:54.441 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 12:08:54.441 +05:30 [DBG] Hosting started
2024-09-24 12:08:54.630 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 12:08:54.643 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 12:08:55.300 +05:30 [DBG] Connection ID "18374686498462105620" disconnecting.
2024-09-24 12:08:55.317 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 695.6206ms
2024-09-24 12:08:55.683 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 12:08:56.005 +05:30 [DBG] Connection ID "18374686494167138320" disconnecting.
2024-09-24 12:08:56.005 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 321.2532ms
2024-09-24 12:09:55.933 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/login application/json 57
2024-09-24 12:09:55.938 +05:30 [DBG] POST requests are not supported
2024-09-24 12:09:56.053 +05:30 [DBG] 1 candidate(s) found for the request path '/login'
2024-09-24 12:09:56.069 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'login' is valid for the request path '/login'
2024-09-24 12:09:56.070 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:09:56.301 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:09:56.307 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:09:56.333 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 12:09:56.433 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:09:56.435 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:09:56.435 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:09:56.436 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:09:56.436 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:09:56.436 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:09:56.438 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:09:56.712 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 12:09:56.777 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:09:56.791 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:09:56.796 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:09:56.799 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:09:56.865 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:09:56.867 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:09:56.868 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:09:56.868 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:09:56.873 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:09:58.616 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:09:58.768 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 12:09:59.157 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 12:09:59.262 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:09:59.379 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (110ms).
2024-09-24 12:09:59.403 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:10:00.036 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:10:00.074 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:10:00.215 +05:30 [INF] Executed DbCommand (159ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:10:00.273 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:10:00.353 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:10:00.361 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:10:00.380 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:10:00.520 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 4070.9067ms
2024-09-24 12:10:00.523 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:10:00.698 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 114
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 12:10:01.128 +05:30 [DBG] Connection ID "18374686481282236431" disconnecting.
2024-09-24 12:10:01.132 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:10:01.137 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/login application/json 57 - 500 - application/json 5204.1418ms
2024-09-24 12:22:00.642 +05:30 [INF] Starting up the application...
2024-09-24 12:22:02.830 +05:30 [DBG] Hosting starting
2024-09-24 12:22:02.969 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 12:22:03.004 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 12:22:03.068 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 12:22:03.107 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 12:22:03.137 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:22:03.148 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 12:22:03.153 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:22:03.172 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 12:22:03.180 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 12:22:03.191 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 12:22:03.193 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 12:22:03.666 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 12:22:03.667 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 12:22:03.668 +05:30 [INF] Hosting environment: Development
2024-09-24 12:22:03.668 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 12:22:03.668 +05:30 [DBG] Hosting started
2024-09-24 12:22:03.804 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 12:22:03.811 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 12:22:04.331 +05:30 [DBG] Connection ID "18302628913014112259" disconnecting.
2024-09-24 12:22:04.343 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 551.9277ms
2024-09-24 12:22:04.520 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 12:22:04.797 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 276.8377ms
2024-09-24 12:22:04.798 +05:30 [DBG] Connection ID "18230571301796315137" disconnecting.
2024-09-24 12:22:13.920 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 12:22:13.928 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 12:22:14.033 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 12:22:14.049 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 12:22:14.051 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 12:22:14.332 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:22:14.349 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2024-09-24 12:22:14.360 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 12:22:14.364 +05:30 [DBG] Connection ID "18374686502757072910" disconnecting.
2024-09-24 12:22:14.364 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 401 - - 443.8584ms
2024-09-24 12:23:02.888 +05:30 [INF] Starting up the application...
2024-09-24 12:23:04.980 +05:30 [DBG] Hosting starting
2024-09-24 12:23:05.105 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 12:23:05.143 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 12:23:05.202 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 12:23:05.238 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 12:23:05.263 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:23:05.270 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 12:23:05.274 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:23:05.283 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 12:23:05.290 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 12:23:05.298 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 12:23:05.299 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 12:23:05.822 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 12:23:05.823 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 12:23:05.823 +05:30 [INF] Hosting environment: Development
2024-09-24 12:23:05.823 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 12:23:05.823 +05:30 [DBG] Hosting started
2024-09-24 12:23:05.961 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 12:23:05.970 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 12:23:06.472 +05:30 [DBG] Connection ID "18230571314681217025" disconnecting.
2024-09-24 12:23:06.483 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 532.6928ms
2024-09-24 12:23:06.675 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 12:23:06.982 +05:30 [DBG] Connection ID "18230571323271151622" disconnecting.
2024-09-24 12:23:06.982 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 306.6274ms
2024-09-24 12:23:11.892 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 12:23:11.900 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 12:23:11.989 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 12:23:12.004 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 12:23:12.006 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 12:23:12.255 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:23:12.267 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-24 12:23:12.277 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 12:23:12.281 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 401 - - 389.8706ms
2024-09-24 12:23:12.281 +05:30 [DBG] Connection ID "18302628891539275798" disconnecting.
2024-09-24 12:24:21.310 +05:30 [INF] Starting up the application...
2024-09-24 12:24:23.271 +05:30 [DBG] Hosting starting
2024-09-24 12:24:23.394 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 12:24:23.422 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 12:24:23.465 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 12:24:23.485 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 12:24:23.499 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:24:23.505 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 12:24:23.510 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:24:23.522 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 12:24:23.530 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 12:24:23.535 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 12:24:23.536 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 12:24:24.031 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 12:24:24.032 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 12:24:24.032 +05:30 [INF] Hosting environment: Development
2024-09-24 12:24:24.032 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 12:24:24.032 +05:30 [DBG] Hosting started
2024-09-24 12:24:24.147 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 12:24:24.154 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 12:24:24.692 +05:30 [DBG] Connection ID "18374686507052040204" disconnecting.
2024-09-24 12:24:24.702 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 565.5638ms
2024-09-24 12:24:24.918 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 12:24:25.238 +05:30 [DBG] Connection ID "18374686502757072913" disconnecting.
2024-09-24 12:24:25.238 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 320.5056ms
2024-09-24 12:24:32.066 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 12:24:32.070 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 12:24:32.171 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 12:24:32.184 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 12:24:32.186 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 12:24:32.421 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:24:32.433 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-24 12:24:32.441 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 12:24:32.446 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 401 - - 380.7248ms
2024-09-24 12:25:00.100 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 55
2024-09-24 12:25:00.100 +05:30 [DBG] POST requests are not supported
2024-09-24 12:25:00.104 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:25:00.104 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:25:00.104 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:25:00.113 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:25:00.122 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:25:00.144 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 12:25:00.246 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:25:00.248 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:25:00.248 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:25:00.249 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:25:00.249 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:25:00.250 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:25:00.252 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:25:00.252 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:25:00.265 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:25:00.269 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:25:00.271 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:25:00.336 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:25:00.337 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:25:00.337 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:25:00.337 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:25:00.346 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:25:00.422 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 12:25:00.426 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 12:25:00.426 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 12:25:00.426 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 12:25:00.428 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 12:25:00.429 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 12:25:00.482 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 217.227ms
2024-09-24 12:25:00.483 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:25:00.485 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 55 - 200 - application/json;+charset=utf-8 384.5970ms
2024-09-24 12:25:00.485 +05:30 [DBG] Connection ID "18374686507052040206" disconnecting.
2024-09-24 12:25:38.925 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 12:25:38.930 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 12:25:38.931 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 12:25:38.931 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 12:25:38.937 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 12:25:39.064 +05:30 [INF] Successfully validated the token.
2024-09-24 12:25:39.066 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 12:25:39.074 +05:30 [INF] Authorization was successful.
2024-09-24 12:25:39.075 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 12:25:39.096 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 12:25:39.096 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:25:39.096 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:25:39.096 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:25:39.096 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:25:39.096 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:25:39.097 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 12:25:39.359 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 12:25:39.723 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 12:25:41.537 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:25:41.705 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)'
2024-09-24 12:25:41.913 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 12:25:41.916 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 12:25:42.263 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
        FROM Books AS b
        INNER JOIN Authors AS a ON b.AuthorId == a.Id
        INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    BookStoreAPI.Data.BookStoreDbContext, 
    False, 
    False
)'
2024-09-24 12:25:42.369 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:25:42.481 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (99ms).
2024-09-24 12:25:42.495 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:25:43.032 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:25:43.053 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 12:25:43.145 +05:30 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 12:25:43.199 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.257 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.301 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.313 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.314 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.315 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.315 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.315 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.315 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.315 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.315 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.316 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:25:43.326 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:25:43.332 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:25:43.344 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:25:43.392 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 12:25:43.392 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 12:25:43.392 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 12:25:43.392 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 12:25:43.393 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 12:25:43.393 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 12:25:43.428 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 4331.107ms
2024-09-24 12:25:43.429 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 12:25:43.434 +05:30 [DBG] Connection ID "18302628904424177670" disconnecting.
2024-09-24 12:25:43.437 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:25:43.443 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 4517.5816ms
2024-09-24 12:30:19.695 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 55
2024-09-24 12:30:19.696 +05:30 [DBG] POST requests are not supported
2024-09-24 12:30:19.696 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:30:19.696 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:30:19.696 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:30:19.698 +05:30 [INF] Successfully validated the token.
2024-09-24 12:30:19.698 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 12:30:19.699 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:30:19.699 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:30:19.699 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:30:19.699 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:30:19.700 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:30:19.700 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:30:19.700 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:30:19.700 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:30:19.700 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:30:19.701 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:30:19.702 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:30:19.702 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:30:19.702 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:30:19.703 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:30:19.703 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:30:19.703 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:30:19.703 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:30:19.703 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 12:30:19.704 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 12:30:19.704 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 12:30:19.704 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 12:30:19.704 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 12:30:19.704 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 12:30:19.705 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 4.9777ms
2024-09-24 12:30:19.705 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:30:19.709 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 55 - 200 - application/json;+charset=utf-8 14.0226ms
2024-09-24 12:30:19.716 +05:30 [DBG] Connection ID "18230571323271151624" disconnecting.
2024-09-24 12:30:33.350 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 56
2024-09-24 12:30:33.350 +05:30 [DBG] POST requests are not supported
2024-09-24 12:30:33.350 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:30:33.350 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:30:33.350 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:30:33.351 +05:30 [INF] Successfully validated the token.
2024-09-24 12:30:33.351 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 12:30:33.351 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:30:33.351 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:30:33.352 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:30:33.352 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:30:33.352 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:30:33.352 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:30:33.353 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:30:33.353 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:30:33.354 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:30:33.354 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:30:33.354 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:30:33.355 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:30:33.355 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:30:33.355 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:30:33.355 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:30:33.355 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:30:33.355 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:30:33.357 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 12:30:33.357 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 12:30:33.358 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-09-24 12:30:33.359 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-24 12:30:33.359 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-24 12:30:33.372 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 19.2551ms
2024-09-24 12:30:33.372 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:30:33.379 +05:30 [DBG] Connection ID "18374686481282236433" disconnecting.
2024-09-24 12:30:33.380 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 56 - 401 - application/problem+json;+charset=utf-8 30.4451ms
2024-09-24 12:41:10.510 +05:30 [INF] Starting up the application...
2024-09-24 12:41:12.667 +05:30 [DBG] Hosting starting
2024-09-24 12:41:12.809 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 12:41:12.848 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 12:41:12.918 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 12:41:12.959 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 12:41:12.990 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:41:12.999 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 12:41:13.005 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:41:13.020 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 12:41:13.028 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 12:41:13.036 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 12:41:13.038 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 12:41:13.560 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 12:41:13.561 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 12:41:13.561 +05:30 [INF] Hosting environment: Development
2024-09-24 12:41:13.561 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 12:41:13.561 +05:30 [DBG] Hosting started
2024-09-24 12:41:13.696 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 12:41:13.704 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 12:41:14.196 +05:30 [DBG] Connection ID "18374686494167138324" disconnecting.
2024-09-24 12:41:14.207 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 519.8385ms
2024-09-24 12:41:14.382 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 12:41:14.661 +05:30 [DBG] Connection ID "18374686481282236435" disconnecting.
2024-09-24 12:41:14.661 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 279.0204ms
2024-09-24 12:41:52.345 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 55
2024-09-24 12:41:52.351 +05:30 [DBG] POST requests are not supported
2024-09-24 12:41:52.444 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:41:52.458 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:41:52.460 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:41:52.677 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:41:52.686 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:41:52.705 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 12:41:52.785 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:41:52.786 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:41:52.786 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:41:52.786 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:41:52.787 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:41:52.787 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:41:52.788 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:41:53.053 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 12:41:53.114 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:41:53.126 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:41:53.130 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:41:53.133 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:41:53.189 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:41:53.190 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:41:53.190 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:41:53.190 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:41:53.195 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:41:54.997 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:41:55.172 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 12:41:55.549 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 12:41:55.666 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:41:55.791 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (113ms).
2024-09-24 12:41:55.817 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:41:56.415 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:41:56.453 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:41:56.588 +05:30 [INF] Executed DbCommand (151ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:41:56.623 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:41:56.629 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:41:56.638 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:41:56.647 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 12:41:56.651 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 12:41:56.651 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 12:41:56.651 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 12:41:56.652 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 12:41:56.653 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 12:41:56.702 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 3902.348ms
2024-09-24 12:41:56.704 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:41:56.711 +05:30 [DBG] Connection ID "18374686481282236437" disconnecting.
2024-09-24 12:41:56.715 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:41:56.719 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 55 - 401 - application/json;+charset=utf-8 4374.1076ms
2024-09-24 12:42:14.854 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 57
2024-09-24 12:42:14.854 +05:30 [DBG] POST requests are not supported
2024-09-24 12:42:14.858 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:42:14.858 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:42:14.858 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:42:14.858 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:42:14.859 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:42:14.859 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:42:14.859 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:42:14.859 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:42:14.859 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:42:14.859 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:42:14.860 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:42:14.860 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:42:14.860 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:42:14.861 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:42:14.862 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:42:14.862 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:42:14.862 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:42:14.862 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:42:14.863 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:42:14.863 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:42:14.863 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:42:14.948 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:42:14.954 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:42:14.955 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 12:42:14.955 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:42:14.956 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:42:14.957 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:42:14.968 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:42:15.004 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:42:15.067 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:42:15.068 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:42:15.068 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:42:15.170 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 310.1796ms
2024-09-24 12:42:15.171 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:42:15.330 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 12:42:15.801 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:42:15.801 +05:30 [DBG] Connection ID "18302628904424177672" disconnecting.
2024-09-24 12:42:15.801 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 57 - 500 - application/json 947.6152ms
2024-09-24 12:45:48.807 +05:30 [INF] Starting up the application...
2024-09-24 12:45:50.976 +05:30 [DBG] Hosting starting
2024-09-24 12:45:51.111 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 12:45:51.138 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 12:45:51.205 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 12:45:51.228 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 12:45:51.250 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:45:51.259 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 12:45:51.262 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:45:51.270 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 12:45:51.276 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 12:45:51.281 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 12:45:51.283 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 12:45:51.806 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 12:45:51.808 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 12:45:51.808 +05:30 [INF] Hosting environment: Development
2024-09-24 12:45:51.808 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 12:45:51.808 +05:30 [DBG] Hosting started
2024-09-24 12:45:51.938 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 12:45:51.943 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 12:45:52.442 +05:30 [DBG] Connection ID "18374686498462105626" disconnecting.
2024-09-24 12:45:52.457 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 525.2810ms
2024-09-24 12:45:52.643 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 12:45:52.947 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 303.7396ms
2024-09-24 12:45:52.948 +05:30 [DBG] Connection ID "18230571323271151626" disconnecting.
2024-09-24 12:46:05.784 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41
2024-09-24 12:46:05.790 +05:30 [DBG] POST requests are not supported
2024-09-24 12:46:05.885 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:46:05.898 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:46:05.900 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:46:06.142 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:46:06.150 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:46:06.170 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 12:46:06.270 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:46:06.272 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:46:06.272 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:46:06.273 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:46:06.274 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:46:06.275 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:46:06.277 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:46:06.566 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 12:46:06.643 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:46:06.657 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:46:06.664 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:46:06.665 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:46:06.734 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:46:06.735 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:46:06.735 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:46:06.735 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:46:06.742 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:46:08.606 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:46:08.749 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 12:46:09.098 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 12:46:09.195 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:46:09.309 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (100ms).
2024-09-24 12:46:09.329 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:09.959 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:09.988 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:46:10.093 +05:30 [INF] Executed DbCommand (114ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:46:10.142 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:46:10.201 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:46:10.210 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:10.220 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:10.342 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 4051.762ms
2024-09-24 12:46:10.345 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:46:10.505 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 12:46:10.968 +05:30 [DBG] Connection ID "18374686502757072915" disconnecting.
2024-09-24 12:46:10.973 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:46:10.979 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41 - 500 - application/json 5195.1850ms
2024-09-24 12:46:46.509 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 57
2024-09-24 12:46:46.513 +05:30 [DBG] POST requests are not supported
2024-09-24 12:46:46.517 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:46:46.517 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:46:46.517 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:46:46.526 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:46:46.543 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:46:46.551 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:46:46.551 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:46:46.551 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:46:46.551 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:46:46.551 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:46:46.551 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:46:46.551 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:46:46.559 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:46:46.560 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:46:46.560 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:46:46.560 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:46:46.566 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:46:46.566 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:46:46.566 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:46:46.566 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:46:46.566 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:46:46.636 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:46:46.642 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:46:46.643 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 12:46:46.643 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:46.645 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:46.645 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:46:46.657 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:46:46.658 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:46:46.658 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:46:46.658 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:46.658 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:46.712 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 160.5114ms
2024-09-24 12:46:46.713 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:46:46.813 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 12:46:46.817 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:46:46.817 +05:30 [DBG] Connection ID "18374686481282236439" disconnecting.
2024-09-24 12:46:46.817 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 57 - 500 - application/json 308.9869ms
2024-09-24 12:46:49.794 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 57
2024-09-24 12:46:49.795 +05:30 [DBG] POST requests are not supported
2024-09-24 12:46:49.795 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:46:49.795 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:46:49.795 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:46:49.799 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:46:49.800 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:46:49.800 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:46:49.800 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:46:49.800 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:46:49.800 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:46:49.801 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:46:49.801 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:46:49.801 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:46:49.807 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:46:49.807 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:46:49.808 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:46:49.808 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:46:49.808 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:46:49.808 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:46:49.809 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:46:49.809 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:46:49.809 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:46:49.832 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:46:49.834 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:46:49.835 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 12:46:49.835 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:49.835 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:49.835 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:46:49.840 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:46:49.842 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:46:49.842 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:46:49.843 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:49.843 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:46:49.901 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 100.6085ms
2024-09-24 12:46:49.902 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:46:50.015 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 12:46:50.019 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:46:50.019 +05:30 [DBG] Connection ID "18374686481282236441" disconnecting.
2024-09-24 12:46:50.020 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 57 - 500 - application/json 224.9832ms
2024-09-24 12:47:26.819 +05:30 [INF] Starting up the application...
2024-09-24 12:47:28.698 +05:30 [DBG] Hosting starting
2024-09-24 12:47:28.818 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 12:47:28.856 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 12:47:28.916 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 12:47:28.949 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 12:47:28.981 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:47:28.990 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 12:47:28.994 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:47:29.007 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 12:47:29.014 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 12:47:29.021 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 12:47:29.023 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 12:47:29.527 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 12:47:29.528 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 12:47:29.528 +05:30 [INF] Hosting environment: Development
2024-09-24 12:47:29.529 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 12:47:29.529 +05:30 [DBG] Hosting started
2024-09-24 12:47:29.631 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 12:47:29.635 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 12:47:30.138 +05:30 [DBG] Connection ID "18230571314681217027" disconnecting.
2024-09-24 12:47:30.150 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 525.8634ms
2024-09-24 12:47:30.324 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 12:47:30.690 +05:30 [DBG] Connection ID "18302628904424177674" disconnecting.
2024-09-24 12:47:30.690 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 366.1786ms
2024-09-24 12:47:45.081 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41
2024-09-24 12:47:45.087 +05:30 [DBG] POST requests are not supported
2024-09-24 12:47:45.165 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:47:45.176 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:47:45.179 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:47:45.419 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:47:45.425 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:47:45.441 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 12:47:45.534 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:47:45.536 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:47:45.536 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:47:45.537 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:47:45.537 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:47:45.537 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:47:45.539 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:47:45.805 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 12:47:45.878 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:47:45.891 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:47:45.899 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:47:45.901 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:47:45.965 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:47:45.966 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:47:45.966 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:47:45.966 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:47:45.971 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:47:47.801 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:47:47.960 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 12:47:48.403 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 12:47:48.543 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:47:48.641 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (92ms).
2024-09-24 12:47:48.662 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:47:49.292 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:47:49.330 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:47:49.460 +05:30 [INF] Executed DbCommand (147ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:47:49.508 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:47:49.585 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:47:49.595 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:47:49.607 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:47:49.752 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 4201.6685ms
2024-09-24 12:47:49.757 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:47:49.931 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 12:47:50.460 +05:30 [DBG] Connection ID "18374686489872171013" disconnecting.
2024-09-24 12:47:50.464 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:47:50.472 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41 - 500 - application/json 5390.5466ms
2024-09-24 12:52:07.168 +05:30 [INF] Starting up the application...
2024-09-24 12:52:09.377 +05:30 [DBG] Hosting starting
2024-09-24 12:52:09.511 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 12:52:09.544 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 12:52:09.623 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 12:52:09.660 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 12:52:09.689 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:52:09.698 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 12:52:09.701 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:52:09.713 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 12:52:09.718 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 12:52:09.726 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 12:52:09.728 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 12:52:10.232 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 12:52:10.233 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 12:52:10.233 +05:30 [INF] Hosting environment: Development
2024-09-24 12:52:10.234 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 12:52:10.234 +05:30 [DBG] Hosting started
2024-09-24 12:52:10.354 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 12:52:10.360 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 12:52:10.834 +05:30 [DBG] Connection ID "18374686485577203731" disconnecting.
2024-09-24 12:52:10.844 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 496.2347ms
2024-09-24 12:52:11.025 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 12:52:11.354 +05:30 [DBG] Connection ID "18302628917309079554" disconnecting.
2024-09-24 12:52:11.354 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 328.8626ms
2024-09-24 12:52:24.678 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 12:52:24.685 +05:30 [DBG] POST requests are not supported
2024-09-24 12:52:24.767 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:52:24.776 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:52:24.778 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:52:25.037 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:52:25.044 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:52:25.062 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 12:52:25.146 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:52:25.150 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:52:25.150 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:52:25.151 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:52:25.152 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:52:25.152 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:52:25.154 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:52:25.454 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 12:52:25.531 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:52:25.543 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:52:25.550 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:52:25.553 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:52:25.619 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:52:25.620 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:52:25.620 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:52:25.620 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:52:25.627 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:52:27.503 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:52:27.654 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 12:52:28.083 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 12:52:28.247 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:52:28.373 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (117ms).
2024-09-24 12:52:28.398 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:52:29.061 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:52:29.101 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:52:29.234 +05:30 [INF] Executed DbCommand (151ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:52:29.283 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:52:29.341 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:52:29.350 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:52:29.361 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:52:29.473 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 4312.4438ms
2024-09-24 12:52:29.477 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:52:29.620 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 12:52:30.027 +05:30 [DBG] Connection ID "18374686498462105629" disconnecting.
2024-09-24 12:52:30.033 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:52:30.039 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 500 - application/json 5361.6067ms
2024-09-24 12:52:45.393 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41
2024-09-24 12:52:45.393 +05:30 [DBG] POST requests are not supported
2024-09-24 12:52:45.399 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:52:45.399 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:52:45.399 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:52:45.400 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:52:45.401 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:52:45.401 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:52:45.401 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:52:45.401 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:52:45.401 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:52:45.402 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:52:45.402 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:52:45.402 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:52:45.403 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:52:45.404 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:52:45.404 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:52:45.404 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:52:45.405 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:52:45.405 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:52:45.405 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:52:45.405 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:52:45.405 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:52:45.488 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:52:45.494 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:52:45.494 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 12:52:45.495 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:52:45.497 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:52:45.498 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:52:45.510 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:52:45.511 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:52:45.512 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:52:45.512 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:52:45.513 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:52:45.576 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI) in 173.4016ms
2024-09-24 12:52:45.576 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Login (BookStoreAPI)'
2024-09-24 12:52:45.690 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 12:52:45.693 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:52:45.693 +05:30 [DBG] Connection ID "18374686489872171015" disconnecting.
2024-09-24 12:52:45.693 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41 - 500 - application/json 300.1824ms
2024-09-24 12:57:07.057 +05:30 [INF] Starting up the application...
2024-09-24 12:57:09.009 +05:30 [DBG] Hosting starting
2024-09-24 12:57:09.115 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 12:57:09.145 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 12:57:09.203 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 12:57:09.230 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 12:57:09.251 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:57:09.257 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 12:57:09.260 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 12:57:09.271 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 12:57:09.277 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 12:57:09.281 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 12:57:09.282 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 12:57:09.768 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 12:57:09.770 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 12:57:09.770 +05:30 [INF] Hosting environment: Development
2024-09-24 12:57:09.770 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 12:57:09.770 +05:30 [DBG] Hosting started
2024-09-24 12:57:09.898 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 12:57:09.903 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 12:57:10.415 +05:30 [DBG] Connection ID "18302628908719144966" disconnecting.
2024-09-24 12:57:10.429 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 538.9751ms
2024-09-24 12:57:10.609 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 12:57:10.956 +05:30 [DBG] Connection ID "18230571293206380551" disconnecting.
2024-09-24 12:57:10.956 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 347.3400ms
2024-09-24 12:57:27.791 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41
2024-09-24 12:57:27.796 +05:30 [DBG] POST requests are not supported
2024-09-24 12:57:27.871 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:57:27.880 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:57:27.882 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 12:57:28.098 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:57:28.106 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 12:57:28.123 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 12:57:28.207 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:57:28.210 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:57:28.210 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:57:28.211 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:57:28.211 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:57:28.211 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:57:28.213 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:57:28.465 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 12:57:28.522 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:57:28.532 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:57:28.538 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:57:28.539 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:57:28.584 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:57:28.586 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:57:28.586 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:57:28.586 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:57:28.592 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:57:30.551 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:57:30.713 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 12:57:31.126 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 12:57:31.259 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:57:31.374 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (105ms).
2024-09-24 12:57:31.397 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:57:32.005 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:57:32.043 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:57:32.193 +05:30 [INF] Executed DbCommand (162ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:57:32.235 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:57:32.246 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:57:32.259 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:57:32.270 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 12:57:32.273 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 12:57:32.274 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-09-24 12:57:32.275 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-24 12:57:32.276 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-24 12:57:32.326 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 4100.2326ms
2024-09-24 12:57:32.328 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 12:57:32.334 +05:30 [DBG] Connection ID "18374686507052040208" disconnecting.
2024-09-24 12:57:32.339 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:57:32.344 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41 - 401 - application/problem+json;+charset=utf-8 4552.6629ms
2024-09-24 12:57:55.719 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41
2024-09-24 12:57:55.720 +05:30 [DBG] POST requests are not supported
2024-09-24 12:57:55.731 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 12:57:55.731 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 12:57:55.732 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 12:57:55.735 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 12:57:55.743 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 12:57:55.756 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 12:57:55.756 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:57:55.756 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:57:55.756 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:57:55.756 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:57:55.756 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:57:55.757 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:57:55.766 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 12:57:55.767 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:57:55.767 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 12:57:55.767 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 12:57:55.768 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 12:57:55.768 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:57:55.768 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:57:55.768 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 12:57:55.768 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 12:57:55.858 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:57:55.866 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:57:55.866 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 12:57:55.867 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:57:55.868 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:57:55.869 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:57:55.880 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 12:57:55.915 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:57:55.963 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:57:55.963 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:57:55.963 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:57:56.018 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 12:57:56.019 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 12:57:56.019 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 12:57:56.019 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 12:57:56.019 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 12:57:56.019 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 12:57:56.033 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 276.0083ms
2024-09-24 12:57:56.034 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 12:57:56.039 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:57:56.040 +05:30 [DBG] Connection ID "18374686489872171017" disconnecting.
2024-09-24 12:57:56.040 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41 - 200 - application/json;+charset=utf-8 320.6200ms
2024-09-24 12:58:34.450 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 12:58:34.458 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 12:58:34.458 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 12:58:34.458 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 12:58:34.458 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 12:58:34.627 +05:30 [INF] Successfully validated the token.
2024-09-24 12:58:34.629 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 12:58:34.641 +05:30 [INF] Authorization was successful.
2024-09-24 12:58:34.642 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 12:58:34.662 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 12:58:34.662 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 12:58:34.663 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 12:58:34.663 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 12:58:34.663 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 12:58:34.663 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 12:58:34.663 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 12:58:34.911 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 12:58:34.940 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 12:58:34.959 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)'
2024-09-24 12:58:35.003 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 12:58:35.008 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 12:58:35.115 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
        FROM Books AS b
        INNER JOIN Authors AS a ON b.AuthorId == a.Id
        INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    BookStoreAPI.Data.BookStoreDbContext, 
    False, 
    False
)'
2024-09-24 12:58:35.118 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 12:58:35.118 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 12:58:35.118 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:58:35.119 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:58:35.119 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 12:58:35.136 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 12:58:35.140 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.189 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.239 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.253 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.254 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.255 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.255 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.255 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.255 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.255 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.256 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.256 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 12:58:35.256 +05:30 [DBG] A data reader was disposed.
2024-09-24 12:58:35.256 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:58:35.256 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 12:58:35.310 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 12:58:35.311 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 12:58:35.311 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 12:58:35.311 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 12:58:35.311 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 12:58:35.311 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 12:58:35.349 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 686.3797ms
2024-09-24 12:58:35.350 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 12:58:35.352 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 12:58:35.352 +05:30 [DBG] Connection ID "18230571323271151629" disconnecting.
2024-09-24 12:58:35.353 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 902.2706ms
2024-09-24 13:00:21.764 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:44310/api/BookStore/4c906155-1b56-421c-bcac-f79ff6262cd8 - -
2024-09-24 13:00:21.766 +05:30 [DBG] DELETE requests are not supported
2024-09-24 13:00:21.773 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/4c906155-1b56-421c-bcac-f79ff6262cd8'
2024-09-24 13:00:21.785 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI)' with route pattern 'api/BookStore/{id:Guid}' is valid for the request path '/api/BookStore/4c906155-1b56-421c-bcac-f79ff6262cd8'
2024-09-24 13:00:21.785 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI)'
2024-09-24 13:00:21.786 +05:30 [INF] Successfully validated the token.
2024-09-24 13:00:21.786 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 13:00:21.786 +05:30 [INF] Authorization was successful.
2024-09-24 13:00:21.787 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI)'
2024-09-24 13:00:21.797 +05:30 [INF] Route matched with {action = "DeleteBook", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(System.Guid) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 13:00:21.798 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 13:00:21.798 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 13:00:21.798 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 13:00:21.798 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 13:00:21.798 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 13:00:21.798 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 13:00:21.799 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 13:00:21.799 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-24 13:00:21.800 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-24 13:00:21.802 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 13:00:21.802 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 13:00:21.802 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-24 13:00:21.803 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-24 13:00:21.808 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 13:00:21.825 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: (object)__get_Item_0))'
2024-09-24 13:00:21.885 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.AuthorId (Guid) Required FK Index, 1], [Property: Book.BookSizeId (Guid) Required FK Index, 2], [Property: Book.CoverImageUrl (string), 3], [Property: Book.Description (string), 4], [Property: Book.PublicationDate (Nullable<DateTime>), 5], [Property: Book.Title (string), 6], }
            SELECT TOP(1) b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title
            FROM Books AS b
            WHERE b.Id == @__get_Item_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 13:00:21.887 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 13:00:21.887 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 13:00:21.888 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:21.889 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:21.890 +05:30 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__get_Item_0
2024-09-24 13:00:21.915 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__get_Item_0
2024-09-24 13:00:21.916 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:21.917 +05:30 [DBG] A data reader was disposed.
2024-09-24 13:00:21.917 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:21.918 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:21.955 +05:30 [DBG] An entity of type 'Book' tracked by 'BookStoreDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:21.968 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 13:00:21.973 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 13:00:22.008 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 13:00:22.050 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:22.051 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:22.054 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 13:00:22.073 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 13:00:22.170 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 13:00:22.170 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 13:00:22.172 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2024-09-24 13:00:22.177 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2024-09-24 13:00:22.196 +05:30 [DBG] A data reader was disposed.
2024-09-24 13:00:22.204 +05:30 [DBG] Committing transaction.
2024-09-24 13:00:22.224 +05:30 [DBG] Committed transaction.
2024-09-24 13:00:22.233 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:22.233 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:22.238 +05:30 [DBG] Disposing transaction.
2024-09-24 13:00:22.260 +05:30 [DBG] An entity of type 'Book' tracked by 'BookStoreDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:22.266 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 13:00:22.276 +05:30 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2024-09-24 13:00:22.276 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI) in 477.8405ms
2024-09-24 13:00:22.276 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI)'
2024-09-24 13:00:22.279 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 13:00:22.280 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:44310/api/BookStore/4c906155-1b56-421c-bcac-f79ff6262cd8 - - - 204 - - 515.9343ms
2024-09-24 13:00:22.280 +05:30 [DBG] Connection ID "18374686489872171019" disconnecting.
2024-09-24 13:00:32.254 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 13:00:32.254 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 13:00:32.255 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 13:00:32.255 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 13:00:32.255 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 13:00:32.256 +05:30 [INF] Successfully validated the token.
2024-09-24 13:00:32.256 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 13:00:32.258 +05:30 [INF] Authorization was successful.
2024-09-24 13:00:32.259 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 13:00:32.260 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 13:00:32.260 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 13:00:32.260 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 13:00:32.260 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 13:00:32.260 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 13:00:32.260 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 13:00:32.260 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 13:00:32.268 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 13:00:32.270 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 13:00:32.270 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 13:00:32.271 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 13:00:32.271 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:32.272 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:32.273 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 13:00:32.282 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 13:00:32.283 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:32.283 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:32.283 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:32.284 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:32.284 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:32.284 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:32.284 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:32.284 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:32.285 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 13:00:32.285 +05:30 [DBG] A data reader was disposed.
2024-09-24 13:00:32.285 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:32.285 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 13:00:32.286 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 13:00:32.286 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 13:00:32.287 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 13:00:32.287 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 13:00:32.287 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 13:00:32.288 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 13:00:32.289 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 28.745ms
2024-09-24 13:00:32.289 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 13:00:32.289 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 13:00:32.290 +05:30 [DBG] Connection ID "18230571293206380553" disconnecting.
2024-09-24 13:00:32.290 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 35.6827ms
2024-09-24 13:02:10.966 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/BookStore application/json 268
2024-09-24 13:02:10.976 +05:30 [DBG] POST requests are not supported
2024-09-24 13:02:10.976 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 13:02:10.976 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 13:02:10.976 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)'
2024-09-24 13:02:10.977 +05:30 [INF] Successfully validated the token.
2024-09-24 13:02:10.977 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 13:02:10.978 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-09-24 13:02:10.982 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2024-09-24 13:02:10.984 +05:30 [DBG] Connection ID "18374686507052040210" disconnecting.
2024-09-24 13:02:10.984 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/BookStore application/json 268 - 403 - - 17.1307ms
2024-09-24 14:06:17.879 +05:30 [INF] Starting up the application...
2024-09-24 14:06:20.188 +05:30 [DBG] Hosting starting
2024-09-24 14:06:20.330 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:06:20.364 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 14:06:20.427 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 14:06:20.461 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 14:06:20.482 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:06:20.492 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 14:06:20.495 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:06:20.510 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 14:06:20.518 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 14:06:20.524 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 14:06:20.525 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 14:06:21.023 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 14:06:21.023 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:06:21.024 +05:30 [INF] Hosting environment: Development
2024-09-24 14:06:21.024 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 14:06:21.024 +05:30 [DBG] Hosting started
2024-09-24 14:06:21.143 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 14:06:21.149 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 14:06:21.677 +05:30 [DBG] Connection ID "18374686502757072919" disconnecting.
2024-09-24 14:06:21.685 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 548.0512ms
2024-09-24 14:06:21.873 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 14:06:22.220 +05:30 [DBG] Connection ID "18374686502757072921" disconnecting.
2024-09-24 14:06:22.220 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 347.0060ms
2024-09-24 14:06:28.588 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:06:28.600 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:06:28.691 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:06:28.713 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:06:28.716 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:06:28.981 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:06:28.993 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2024-09-24 14:06:29.003 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 14:06:29.006 +05:30 [DBG] Connection ID "18302628891539275802" disconnecting.
2024-09-24 14:06:29.019 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 401 - - 431.5956ms
2024-09-24 14:06:57.482 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41
2024-09-24 14:06:57.482 +05:30 [DBG] POST requests are not supported
2024-09-24 14:06:57.487 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:06:57.487 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:06:57.487 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:06:57.491 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:06:57.503 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:06:57.524 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 14:06:57.615 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:06:57.617 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:06:57.618 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:06:57.619 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:06:57.619 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:06:57.620 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:06:57.621 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:06:57.859 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 14:06:57.917 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:06:57.928 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:06:57.931 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 14:06:57.932 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:06:57.991 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 14:06:57.992 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:06:57.992 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:06:57.993 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:06:57.998 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:06:59.808 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:06:59.963 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 14:07:00.390 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:07:00.503 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:07:00.628 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (111ms).
2024-09-24 14:07:00.654 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:01.309 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:01.353 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:07:01.486 +05:30 [INF] Executed DbCommand (150ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:07:01.544 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:01.621 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:07:01.627 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:01.639 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:01.723 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:07:01.727 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:07:01.727 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:07:01.728 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:07:01.729 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:07:01.730 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:07:01.785 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 4154.1044ms
2024-09-24 14:07:01.788 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:07:01.793 +05:30 [DBG] Connection ID "18302628891539275804" disconnecting.
2024-09-24 14:07:01.796 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:07:01.802 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41 - 200 - application/json;+charset=utf-8 4320.2230ms
2024-09-24 14:07:33.265 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:07:33.265 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:07:33.265 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:07:33.265 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:07:33.265 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:07:33.422 +05:30 [INF] Successfully validated the token.
2024-09-24 14:07:33.425 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:07:33.429 +05:30 [INF] Authorization was successful.
2024-09-24 14:07:33.429 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:07:33.449 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:07:33.449 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:07:33.450 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:07:33.450 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:07:33.450 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:07:33.450 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:07:33.450 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:07:33.653 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:07:33.788 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:07:33.809 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)'
2024-09-24 14:07:33.847 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:07:33.850 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:07:33.937 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
        FROM Books AS b
        INNER JOIN Authors AS a ON b.AuthorId == a.Id
        INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    BookStoreAPI.Data.BookStoreDbContext, 
    False, 
    False
)'
2024-09-24 14:07:33.942 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:07:33.943 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:07:33.943 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:33.947 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:33.947 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:07:33.969 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:07:33.974 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:34.002 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:34.039 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:34.046 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:34.047 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:34.047 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:34.048 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:34.048 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:34.048 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:34.048 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:07:34.048 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:34.048 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:34.086 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:07:34.087 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:07:34.087 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:07:34.087 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:07:34.087 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:07:34.087 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:07:34.112 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 661.8342ms
2024-09-24 14:07:34.112 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:07:34.114 +05:30 [DBG] Connection ID "18374686498462105631" disconnecting.
2024-09-24 14:07:34.114 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:07:34.115 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 849.9529ms
2024-09-24 14:07:58.139 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 - -
2024-09-24 14:07:58.143 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:07:58.151 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:07:58.162 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)' with route pattern 'api/BookStore/{id:Guid}' is valid for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:07:58.162 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)'
2024-09-24 14:07:58.168 +05:30 [INF] Successfully validated the token.
2024-09-24 14:07:58.168 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:07:58.171 +05:30 [INF] Authorization was successful.
2024-09-24 14:07:58.171 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)'
2024-09-24 14:07:58.178 +05:30 [INF] Route matched with {action = "GetBookById", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(System.Guid) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:07:58.179 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:07:58.179 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:07:58.179 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:07:58.179 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:07:58.179 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:07:58.179 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:07:58.180 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:07:58.188 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-24 14:07:58.191 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-24 14:07:58.192 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 14:07:58.193 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 14:07:58.193 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-24 14:07:58.193 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-24 14:07:58.219 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:07:58.226 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)
    .FirstOrDefault(b => b.Id == __id_0)'
2024-09-24 14:07:58.228 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:07:58.228 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:07:58.246 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
            FROM Books AS b
            INNER JOIN Authors AS a ON b.AuthorId == a.Id
            INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id
            WHERE b.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:07:58.247 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:07:58.247 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:07:58.248 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:58.249 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:58.250 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__id_0
2024-09-24 14:07:58.260 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__id_0
2024-09-24 14:07:58.260 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:58.261 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:58.261 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:07:58.261 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:07:58.261 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:58.261 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:07:58.271 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:07:58.272 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:07:58.272 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:07:58.272 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:07:58.272 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:07:58.272 +05:30 [INF] Executing OkObjectResult, writing value of type 'BookStoreAPI.Models.DTO.BookDTO'.
2024-09-24 14:07:58.273 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI) in 94.1403ms
2024-09-24 14:07:58.273 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)'
2024-09-24 14:07:58.280 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:07:58.280 +05:30 [DBG] Connection ID "18374686494167138327" disconnecting.
2024-09-24 14:07:58.281 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 - - - 200 - application/json;+charset=utf-8 141.3147ms
2024-09-24 14:08:14.953 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore/filter/description - -
2024-09-24 14:08:14.953 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:08:14.957 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/filter/description'
2024-09-24 14:08:14.958 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)' with route pattern 'api/BookStore/filter/description' is valid for the request path '/api/BookStore/filter/description'
2024-09-24 14:08:14.958 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)'
2024-09-24 14:08:14.959 +05:30 [INF] Successfully validated the token.
2024-09-24 14:08:14.960 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:08:14.960 +05:30 [INF] Authorization was successful.
2024-09-24 14:08:14.960 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)'
2024-09-24 14:08:14.968 +05:30 [INF] Route matched with {action = "FilterBooksByDescription", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterBooksByDescription(System.String) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:08:14.968 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:08:14.968 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:08:14.968 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:08:14.968 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:08:14.968 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:08:14.968 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:08:14.975 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:08:14.975 +05:30 [DBG] Attempting to bind parameter 'substring' of type 'System.String' ...
2024-09-24 14:08:14.976 +05:30 [DBG] Attempting to bind parameter 'substring' of type 'System.String' using the name '' in request data ...
2024-09-24 14:08:14.977 +05:30 [DBG] Could not find a value in the request with name '' for binding parameter 'substring' of type 'System.String'.
2024-09-24 14:08:14.977 +05:30 [DBG] Done attempting to bind parameter 'substring' of type 'System.String'.
2024-09-24 14:08:14.977 +05:30 [DBG] Done attempting to bind parameter 'substring' of type 'System.String'.
2024-09-24 14:08:14.977 +05:30 [DBG] Attempting to validate the bound parameter 'substring' of type 'System.String' ...
2024-09-24 14:08:14.977 +05:30 [DBG] Done attempting to validate the bound parameter 'substring' of type 'System.String'.
2024-09-24 14:08:14.981 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:08:14.985 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:08:14.985 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:08:14.985 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:08:14.986 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:08:14.986 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:08:14.987 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:08:14.989 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:08:14.990 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:08:14.992 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:08:14.994 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:08:14.994 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:08:14.995 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:08:14.995 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:08:14.995 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:08:14.995 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:08:14.995 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:08:14.995 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:08:14.995 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:08:14.996 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:08:14.996 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:08:14.996 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:08:14.996 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:08:14.996 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:08:14.996 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:08:14.997 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI) in 28.606ms
2024-09-24 14:08:14.997 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)'
2024-09-24 14:08:14.998 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:08:14.998 +05:30 [DBG] Connection ID "18374686494167138329" disconnecting.
2024-09-24 14:08:14.998 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore/filter/description - - - 200 - application/json;+charset=utf-8 45.6756ms
2024-09-24 14:13:10.738 +05:30 [INF] Starting up the application...
2024-09-24 14:13:12.747 +05:30 [DBG] Hosting starting
2024-09-24 14:13:12.864 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:13:12.900 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 14:13:12.960 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 14:13:12.990 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 14:13:13.015 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:13:13.022 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 14:13:13.025 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:13:13.037 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 14:13:13.045 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 14:13:13.054 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 14:13:13.056 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 14:13:13.562 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 14:13:13.563 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:13:13.563 +05:30 [INF] Hosting environment: Development
2024-09-24 14:13:13.563 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 14:13:13.563 +05:30 [DBG] Hosting started
2024-09-24 14:13:13.743 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 14:13:13.750 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 14:13:14.249 +05:30 [DBG] Connection ID "18374686481282236444" disconnecting.
2024-09-24 14:13:14.278 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 545.4068ms
2024-09-24 14:13:14.450 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 14:13:14.807 +05:30 [DBG] Connection ID "18302628904424177676" disconnecting.
2024-09-24 14:13:14.808 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 357.8416ms
2024-09-24 14:13:30.687 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41
2024-09-24 14:13:30.691 +05:30 [DBG] POST requests are not supported
2024-09-24 14:13:30.778 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:13:30.791 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:13:30.793 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:13:31.027 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:13:31.035 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:13:31.052 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 14:13:31.155 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:13:31.157 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:13:31.157 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:13:31.157 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:13:31.157 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:13:31.158 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:13:31.159 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:13:31.423 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 14:13:31.492 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:13:31.503 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:13:31.506 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 14:13:31.507 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:13:31.559 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 14:13:31.560 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:13:31.561 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:13:31.561 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:13:31.568 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:13:33.386 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:13:33.542 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 14:13:34.012 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:13:34.145 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:13:34.256 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (102ms).
2024-09-24 14:13:34.282 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:13:34.887 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:13:34.923 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:13:35.064 +05:30 [INF] Executed DbCommand (159ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:13:35.120 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:13:35.198 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:13:35.204 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:13:35.218 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:13:35.274 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:13:35.279 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:13:35.279 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:13:35.279 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:13:35.281 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:13:35.282 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:13:35.322 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 4154.1256ms
2024-09-24 14:13:35.324 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:13:35.329 +05:30 [DBG] Connection ID "18374686481282236446" disconnecting.
2024-09-24 14:13:35.332 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:13:35.335 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41 - 200 - application/json;+charset=utf-8 4648.0268ms
2024-09-24 14:14:08.987 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:14:08.997 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:14:09.003 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:14:09.004 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:14:09.004 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:14:09.172 +05:30 [INF] Successfully validated the token.
2024-09-24 14:14:09.174 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:14:09.190 +05:30 [INF] Authorization was successful.
2024-09-24 14:14:09.191 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:14:09.221 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:14:09.221 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:14:09.222 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:14:09.222 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:14:09.222 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:14:09.222 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:14:09.222 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:14:09.419 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:14:09.545 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:14:09.573 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)'
2024-09-24 14:14:09.617 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:14:09.622 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:14:09.726 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
        FROM Books AS b
        INNER JOIN Authors AS a ON b.AuthorId == a.Id
        INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    BookStoreAPI.Data.BookStoreDbContext, 
    False, 
    False
)'
2024-09-24 14:14:09.729 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:14:09.731 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-24 14:14:09.731 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:14:09.735 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:14:09.736 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:14:09.762 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:14:09.772 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:09.810 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:09.856 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:09.868 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:09.870 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:09.871 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:09.871 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:09.871 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:09.871 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:09.872 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:14:09.872 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:14:09.872 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:14:09.926 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:14:09.927 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:14:09.927 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:14:09.927 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:14:09.927 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:14:09.927 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:14:09.959 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 736.3496ms
2024-09-24 14:14:09.959 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:14:09.961 +05:30 [DBG] Connection ID "18302628891539275806" disconnecting.
2024-09-24 14:14:09.961 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:14:09.962 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 974.3545ms
2024-09-24 14:14:50.065 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 - -
2024-09-24 14:14:50.066 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:14:50.079 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:14:50.090 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)' with route pattern 'api/BookStore/{id:Guid}' is valid for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:14:50.091 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)'
2024-09-24 14:14:50.101 +05:30 [INF] Successfully validated the token.
2024-09-24 14:14:50.101 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:14:50.103 +05:30 [INF] Authorization was successful.
2024-09-24 14:14:50.103 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)'
2024-09-24 14:14:50.111 +05:30 [INF] Route matched with {action = "GetBookById", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(System.Guid) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:14:50.111 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:14:50.111 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:14:50.112 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:14:50.112 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:14:50.112 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:14:50.112 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:14:50.113 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:14:50.113 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-24 14:14:50.114 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-24 14:14:50.117 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 14:14:50.117 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 14:14:50.117 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-24 14:14:50.118 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-24 14:14:50.143 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:14:50.147 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)
    .FirstOrDefault(b => b.Id == __id_0)'
2024-09-24 14:14:50.150 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:14:50.150 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:14:50.165 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
            FROM Books AS b
            INNER JOIN Authors AS a ON b.AuthorId == a.Id
            INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id
            WHERE b.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:14:50.168 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:14:50.168 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:14:50.169 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:14:50.169 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:14:50.171 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__id_0
2024-09-24 14:14:50.178 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__id_0
2024-09-24 14:14:50.186 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:50.187 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:50.187 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:14:50.187 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:14:50.187 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:14:50.188 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:14:50.196 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:14:50.196 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:14:50.197 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:14:50.197 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:14:50.197 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:14:50.197 +05:30 [INF] Executing OkObjectResult, writing value of type 'BookStoreAPI.Models.DTO.BookDTO'.
2024-09-24 14:14:50.198 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI) in 85.5521ms
2024-09-24 14:14:50.198 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)'
2024-09-24 14:14:50.199 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:14:50.199 +05:30 [DBG] Connection ID "18374686481282236448" disconnecting.
2024-09-24 14:14:50.199 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 - - - 200 - application/json;+charset=utf-8 134.5105ms
2024-09-24 14:16:31.327 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/BookStore application/json 268
2024-09-24 14:16:31.328 +05:30 [DBG] POST requests are not supported
2024-09-24 14:16:31.328 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:16:31.329 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:16:31.329 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)'
2024-09-24 14:16:31.336 +05:30 [INF] Successfully validated the token.
2024-09-24 14:16:31.337 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:16:31.339 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-09-24 14:16:31.342 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2024-09-24 14:16:31.348 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/BookStore application/json 268 - 403 - - 20.8451ms
2024-09-24 14:16:31.356 +05:30 [DBG] Connection ID "18230571314681217029" disconnecting.
2024-09-24 14:17:40.266 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 - -
2024-09-24 14:17:40.267 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:17:40.271 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:17:40.272 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)' with route pattern 'api/BookStore/{id:Guid}' is valid for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:17:40.272 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)'
2024-09-24 14:17:40.272 +05:30 [INF] Successfully validated the token.
2024-09-24 14:17:40.273 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:17:40.273 +05:30 [INF] Authorization was successful.
2024-09-24 14:17:40.274 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)'
2024-09-24 14:17:40.274 +05:30 [INF] Route matched with {action = "GetBookById", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(System.Guid) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:17:40.274 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:17:40.275 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:17:40.275 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:17:40.275 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:17:40.275 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:17:40.275 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:17:40.283 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:17:40.283 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-24 14:17:40.283 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-24 14:17:40.283 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 14:17:40.283 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 14:17:40.284 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-24 14:17:40.284 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-24 14:17:40.285 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:17:40.288 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:17:40.289 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:17:40.289 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:17:40.289 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:17:40.289 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__id_0
2024-09-24 14:17:40.311 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__id_0
2024-09-24 14:17:40.312 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:17:40.312 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:17:40.312 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:17:40.313 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:17:40.313 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:17:40.313 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:17:40.313 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:17:40.314 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:17:40.314 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:17:40.314 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:17:40.314 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:17:40.314 +05:30 [INF] Executing OkObjectResult, writing value of type 'BookStoreAPI.Models.DTO.BookDTO'.
2024-09-24 14:17:40.315 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI) in 39.7689ms
2024-09-24 14:17:40.315 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)'
2024-09-24 14:17:40.317 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:17:40.321 +05:30 [DBG] Connection ID "18374686481282236450" disconnecting.
2024-09-24 14:17:40.322 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 - - - 200 - application/json;+charset=utf-8 55.0435ms
2024-09-24 14:18:41.987 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 application/json 268
2024-09-24 14:18:42.000 +05:30 [DBG] PUT requests are not supported
2024-09-24 14:18:42.000 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:18:42.000 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.UpdateBook (BookStoreAPI)' with route pattern 'api/BookStore/{id:Guid}' is valid for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:18:42.000 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.UpdateBook (BookStoreAPI)'
2024-09-24 14:18:42.001 +05:30 [INF] Successfully validated the token.
2024-09-24 14:18:42.001 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:18:42.011 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-09-24 14:18:42.012 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2024-09-24 14:18:42.015 +05:30 [DBG] Connection ID "18302628904424177678" disconnecting.
2024-09-24 14:18:42.015 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 application/json 268 - 403 - - 27.2321ms
2024-09-24 14:19:02.112 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:19:02.114 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:19:02.114 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:19:02.114 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:19:02.114 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:19:02.117 +05:30 [INF] Successfully validated the token.
2024-09-24 14:19:02.123 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:19:02.123 +05:30 [INF] Authorization was successful.
2024-09-24 14:19:02.123 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:19:02.124 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:19:02.124 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:19:02.124 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:19:02.124 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:19:02.124 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:19:02.124 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:19:02.124 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:19:02.125 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:19:02.128 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:19:02.128 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:19:02.129 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:19:02.129 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:19:02.129 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:19:02.129 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:19:02.142 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:19:02.143 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:19:02.143 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:19:02.144 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:19:02.144 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:19:02.144 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:19:02.145 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:19:02.145 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:19:02.146 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:19:02.146 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:19:02.146 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:19:02.146 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:19:02.147 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:19:02.147 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:19:02.147 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:19:02.147 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:19:02.147 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:19:02.147 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:19:02.148 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:19:02.148 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 24.0835ms
2024-09-24 14:19:02.149 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:19:02.149 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:19:02.149 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 37.1774ms
2024-09-24 14:19:02.149 +05:30 [DBG] Connection ID "18302628904424177680" disconnecting.
2024-09-24 14:20:47.531 +05:30 [INF] Starting up the application...
2024-09-24 14:20:49.677 +05:30 [DBG] Hosting starting
2024-09-24 14:20:49.821 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:20:49.904 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 14:20:50.022 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 14:20:50.046 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 14:20:50.068 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:20:50.080 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 14:20:50.085 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:20:50.097 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 14:20:50.104 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 14:20:50.111 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 14:20:50.113 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 14:20:50.489 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 14:20:50.490 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:20:50.491 +05:30 [INF] Hosting environment: Development
2024-09-24 14:20:50.491 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 14:20:50.491 +05:30 [DBG] Hosting started
2024-09-24 14:20:50.591 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 14:20:50.596 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 14:20:51.100 +05:30 [DBG] Connection ID "18302628908719144969" disconnecting.
2024-09-24 14:20:51.113 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 529.4055ms
2024-09-24 14:20:51.296 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 14:20:51.611 +05:30 [DBG] Connection ID "18302628891539275808" disconnecting.
2024-09-24 14:20:51.611 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 314.8583ms
2024-09-24 14:21:06.802 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41
2024-09-24 14:21:06.809 +05:30 [DBG] POST requests are not supported
2024-09-24 14:21:06.895 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:21:06.912 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:21:06.914 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:21:07.165 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:21:07.173 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:21:07.192 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 14:21:07.279 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:21:07.282 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:21:07.283 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:21:07.283 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:21:07.283 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:21:07.283 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:21:07.285 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:21:07.609 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 14:21:07.695 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:21:07.711 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:21:07.715 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 14:21:07.716 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:21:07.779 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 14:21:07.780 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:21:07.780 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:21:07.780 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:21:07.786 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:21:09.514 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:21:09.666 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 14:21:10.019 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:21:10.173 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:21:10.287 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (109ms).
2024-09-24 14:21:10.311 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:21:10.893 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:21:10.925 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:21:11.059 +05:30 [INF] Executed DbCommand (136ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:21:11.127 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:21:11.209 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:21:11.216 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:21:11.234 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:21:11.323 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:21:11.327 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:21:11.328 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:21:11.328 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:21:11.330 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:21:11.330 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:21:11.385 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 4088.7232ms
2024-09-24 14:21:11.390 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:21:11.395 +05:30 [DBG] Connection ID "18374686481282236452" disconnecting.
2024-09-24 14:21:11.398 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:21:11.407 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 41 - 200 - application/json;+charset=utf-8 4605.0941ms
2024-09-24 14:21:33.932 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:21:33.943 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:21:33.946 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:21:33.946 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:21:33.946 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:21:34.080 +05:30 [INF] Successfully validated the token.
2024-09-24 14:21:34.082 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:21:34.094 +05:30 [INF] Authorization was successful.
2024-09-24 14:21:34.095 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:21:34.117 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:21:34.117 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:21:34.117 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:21:34.117 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:21:34.117 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:21:34.118 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:21:34.118 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:21:34.326 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:21:34.431 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:21:34.454 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)'
2024-09-24 14:21:34.501 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:21:34.505 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:21:34.603 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
        FROM Books AS b
        INNER JOIN Authors AS a ON b.AuthorId == a.Id
        INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    BookStoreAPI.Data.BookStoreDbContext, 
    False, 
    False
)'
2024-09-24 14:21:34.605 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:21:34.606 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:21:34.606 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:21:34.608 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:21:34.608 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:21:34.625 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:21:34.629 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:21:34.658 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:21:34.689 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:21:34.696 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:21:34.697 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:21:34.697 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:21:34.697 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:21:34.697 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:21:34.698 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:21:34.698 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:21:34.698 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:21:34.698 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:21:34.743 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:21:34.744 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:21:34.744 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:21:34.744 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:21:34.744 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:21:34.744 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:21:34.772 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 654.3348ms
2024-09-24 14:21:34.772 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:21:34.775 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:21:34.775 +05:30 [DBG] Connection ID "18230571301796315139" disconnecting.
2024-09-24 14:21:34.775 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 843.3201ms
2024-09-24 14:21:56.907 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 - -
2024-09-24 14:21:56.908 +05:30 [DBG] DELETE requests are not supported
2024-09-24 14:21:56.919 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:21:56.922 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI)' with route pattern 'api/BookStore/{id:Guid}' is valid for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:21:56.926 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI)'
2024-09-24 14:21:56.938 +05:30 [INF] Successfully validated the token.
2024-09-24 14:21:56.939 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:21:56.940 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-09-24 14:21:56.943 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2024-09-24 14:21:56.956 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 - - - 403 - - 42.5048ms
2024-09-24 14:21:56.956 +05:30 [DBG] Connection ID "18374686481282236454" disconnecting.
2024-09-24 14:22:02.853 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:22:02.855 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:22:02.862 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:22:02.863 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:22:02.863 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:22:02.863 +05:30 [INF] Successfully validated the token.
2024-09-24 14:22:02.863 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:22:02.865 +05:30 [INF] Authorization was successful.
2024-09-24 14:22:02.866 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:22:02.867 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:22:02.867 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:22:02.867 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:22:02.868 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:22:02.868 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:22:02.868 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:22:02.868 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:22:02.869 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:22:02.901 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:22:02.911 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:22:02.911 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:22:02.911 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:22:02.912 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:22:02.912 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:22:02.921 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:22:02.921 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:22:02.921 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:22:02.922 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:22:02.922 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:22:02.922 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:22:02.922 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:22:02.922 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:22:02.922 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:22:02.922 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:22:02.922 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:22:02.923 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:22:02.923 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:22:02.923 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:22:02.923 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:22:02.924 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:22:02.924 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:22:02.924 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:22:02.924 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:22:02.926 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 57.3155ms
2024-09-24 14:22:02.926 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:22:02.927 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:22:02.927 +05:30 [DBG] Connection ID "18230571301796315141" disconnecting.
2024-09-24 14:22:02.927 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 74.2318ms
2024-09-24 14:22:48.129 +05:30 [INF] Starting up the application...
2024-09-24 14:22:50.293 +05:30 [DBG] Hosting starting
2024-09-24 14:22:50.418 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:22:50.452 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 14:22:50.522 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 14:22:50.563 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 14:22:50.590 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:22:50.598 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 14:22:50.601 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:22:50.618 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 14:22:50.627 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 14:22:50.634 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 14:22:50.636 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 14:22:51.128 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 14:22:51.129 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:22:51.129 +05:30 [INF] Hosting environment: Development
2024-09-24 14:22:51.129 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 14:22:51.130 +05:30 [DBG] Hosting started
2024-09-24 14:22:51.263 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 14:22:51.269 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 14:22:51.801 +05:30 [DBG] Connection ID "18302628913014112261" disconnecting.
2024-09-24 14:22:51.819 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 564.7823ms
2024-09-24 14:22:51.989 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 14:22:52.338 +05:30 [DBG] Connection ID "18302628913014112263" disconnecting.
2024-09-24 14:22:52.338 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 348.8876ms
2024-09-24 14:23:07.458 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 14:23:07.464 +05:30 [DBG] POST requests are not supported
2024-09-24 14:23:07.540 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:23:07.552 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:23:07.554 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:23:07.817 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:23:07.826 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:23:07.846 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 14:23:07.927 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:23:07.931 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:23:07.931 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:23:07.932 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:23:07.932 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:23:07.933 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:23:07.936 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:23:08.262 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 14:23:08.331 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:23:08.346 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:23:08.351 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 14:23:08.352 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:23:08.416 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 14:23:08.417 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:23:08.418 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:23:08.418 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:23:08.425 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:23:10.284 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:23:10.431 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 14:23:10.827 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:23:10.942 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:23:11.073 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (115ms).
2024-09-24 14:23:11.097 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:23:11.675 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:23:11.714 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:23:11.851 +05:30 [INF] Executed DbCommand (155ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:23:11.905 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:23:11.964 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:23:11.972 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:23:11.981 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:23:12.047 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:23:12.051 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:23:12.051 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:23:12.051 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:23:12.053 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:23:12.054 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:23:12.094 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 4149.6198ms
2024-09-24 14:23:12.096 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:23:12.100 +05:30 [DBG] Connection ID "18374686489872171023" disconnecting.
2024-09-24 14:23:12.104 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:23:12.111 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 200 - application/json;+charset=utf-8 4652.7166ms
2024-09-24 14:23:33.307 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:23:33.315 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:23:33.319 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:23:33.320 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:23:33.320 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:23:33.455 +05:30 [INF] Successfully validated the token.
2024-09-24 14:23:33.457 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:23:33.465 +05:30 [INF] Authorization was successful.
2024-09-24 14:23:33.466 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:23:33.492 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:23:33.492 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:23:33.492 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:23:33.492 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:23:33.492 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:23:33.493 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:23:33.493 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:23:33.709 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:23:33.798 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:23:33.817 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)'
2024-09-24 14:23:33.858 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:23:33.860 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:23:33.929 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
        FROM Books AS b
        INNER JOIN Authors AS a ON b.AuthorId == a.Id
        INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    BookStoreAPI.Data.BookStoreDbContext, 
    False, 
    False
)'
2024-09-24 14:23:33.931 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:23:33.931 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:23:33.932 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:23:33.935 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:23:33.936 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:23:33.954 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:23:33.959 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:23:33.996 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:23:34.033 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:23:34.047 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:23:34.048 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:23:34.049 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:23:34.049 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:23:34.049 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:23:34.050 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:23:34.050 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:23:34.051 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:23:34.052 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:23:34.108 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:23:34.108 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:23:34.108 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:23:34.108 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:23:34.108 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:23:34.109 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:23:34.140 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 647.2964ms
2024-09-24 14:23:34.140 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:23:34.142 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:23:34.142 +05:30 [DBG] Connection ID "18230571293206380555" disconnecting.
2024-09-24 14:23:34.142 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 835.2311ms
2024-09-24 14:24:41.974 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 application/json 268
2024-09-24 14:24:41.977 +05:30 [DBG] PUT requests are not supported
2024-09-24 14:24:41.985 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:24:41.986 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.UpdateBook (BookStoreAPI)' with route pattern 'api/BookStore/{id:Guid}' is valid for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:24:41.986 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.UpdateBook (BookStoreAPI)'
2024-09-24 14:24:42.027 +05:30 [INF] Successfully validated the token.
2024-09-24 14:24:42.028 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:24:42.031 +05:30 [INF] Authorization was successful.
2024-09-24 14:24:42.038 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.UpdateBook (BookStoreAPI)'
2024-09-24 14:24:42.056 +05:30 [INF] Route matched with {action = "UpdateBook", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(System.Guid, BookStoreAPI.Models.DTO.UpdateBookDTO) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:24:42.056 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:24:42.056 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:24:42.057 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:24:42.057 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:24:42.057 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:24:42.057 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:24:42.057 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:24:42.058 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-24 14:24:42.059 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-24 14:24:42.061 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 14:24:42.061 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 14:24:42.061 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-24 14:24:42.062 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-24 14:24:42.062 +05:30 [DBG] Attempting to bind parameter 'updateBookDTO' of type 'BookStoreAPI.Models.DTO.UpdateBookDTO' ...
2024-09-24 14:24:42.063 +05:30 [DBG] Attempting to bind parameter 'updateBookDTO' of type 'BookStoreAPI.Models.DTO.UpdateBookDTO' using the name '' in request data ...
2024-09-24 14:24:42.063 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:24:42.082 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.UpdateBookDTO'
2024-09-24 14:24:42.082 +05:30 [DBG] Done attempting to bind parameter 'updateBookDTO' of type 'BookStoreAPI.Models.DTO.UpdateBookDTO'.
2024-09-24 14:24:42.082 +05:30 [DBG] Done attempting to bind parameter 'updateBookDTO' of type 'BookStoreAPI.Models.DTO.UpdateBookDTO'.
2024-09-24 14:24:42.082 +05:30 [DBG] Attempting to validate the bound parameter 'updateBookDTO' of type 'BookStoreAPI.Models.DTO.UpdateBookDTO' ...
2024-09-24 14:24:42.085 +05:30 [DBG] Done attempting to validate the bound parameter 'updateBookDTO' of type 'BookStoreAPI.Models.DTO.UpdateBookDTO'.
2024-09-24 14:24:42.111 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:24:42.119 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)
    .FirstOrDefault(b => b.Id == __id_0)'
2024-09-24 14:24:42.121 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:24:42.121 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:24:42.138 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
            FROM Books AS b
            INNER JOIN Authors AS a ON b.AuthorId == a.Id
            INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id
            WHERE b.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:24:42.139 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:24:42.140 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:24:42.141 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.141 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.143 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__id_0
2024-09-24 14:24:42.155 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__id_0
2024-09-24 14:24:42.156 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:42.156 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:42.157 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:42.157 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:24:42.157 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.158 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.182 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 14:24:42.188 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 14:24:42.213 +05:30 [DBG] The unchanged property 'Book.Title' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-24 14:24:42.230 +05:30 [DBG] An entity of type 'Book' tracked by 'BookStoreDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:42.241 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 14:24:42.273 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.274 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.276 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 14:24:42.292 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 14:24:42.385 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:24:42.385 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:24:42.387 +05:30 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Books] SET [Title] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2024-09-24 14:24:42.392 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Books] SET [Title] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2024-09-24 14:24:42.406 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:24:42.412 +05:30 [DBG] Committing transaction.
2024-09-24 14:24:42.431 +05:30 [DBG] Committed transaction.
2024-09-24 14:24:42.435 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.436 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.440 +05:30 [DBG] Disposing transaction.
2024-09-24 14:24:42.453 +05:30 [DBG] An entity of type 'Book' tracked by 'BookStoreDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:42.457 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 14:24:42.461 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:24:42.461 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:24:42.461 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.461 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.462 +05:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__id_0
2024-09-24 14:24:42.465 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__id_0
2024-09-24 14:24:42.465 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:24:42.465 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.465 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:42.466 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:24:42.466 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:24:42.466 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:24:42.466 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:24:42.466 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:24:42.466 +05:30 [INF] Executing OkObjectResult, writing value of type 'BookStoreAPI.Models.Domain.Book'.
2024-09-24 14:24:42.468 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.UpdateBook (BookStoreAPI) in 411.3082ms
2024-09-24 14:24:42.468 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.UpdateBook (BookStoreAPI)'
2024-09-24 14:24:42.469 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:24:42.469 +05:30 [DBG] Connection ID "18302628891539275810" disconnecting.
2024-09-24 14:24:42.469 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 application/json 268 - 200 - application/json;+charset=utf-8 495.5945ms
2024-09-24 14:24:49.508 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:24:49.508 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:24:49.508 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:24:49.509 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:24:49.509 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:24:49.510 +05:30 [INF] Successfully validated the token.
2024-09-24 14:24:49.510 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:24:49.513 +05:30 [INF] Authorization was successful.
2024-09-24 14:24:49.513 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:24:49.514 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:24:49.514 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:24:49.514 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:24:49.515 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:24:49.515 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:24:49.515 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:24:49.515 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:24:49.525 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:24:49.527 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:24:49.528 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:24:49.529 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:24:49.529 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:49.529 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:49.530 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:24:49.536 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:24:49.536 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:49.536 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:49.536 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:49.536 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:49.537 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:49.537 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:49.537 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:49.537 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:49.537 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:24:49.537 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:24:49.537 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:49.537 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:24:49.537 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:24:49.538 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:24:49.538 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:24:49.538 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:24:49.538 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:24:49.538 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:24:49.538 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 23.6137ms
2024-09-24 14:24:49.539 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:24:49.539 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:24:49.540 +05:30 [DBG] Connection ID "18302628913014112265" disconnecting.
2024-09-24 14:24:49.540 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 31.8303ms
2024-09-24 14:25:22.810 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/BookStore application/json 268
2024-09-24 14:25:22.818 +05:30 [DBG] POST requests are not supported
2024-09-24 14:25:22.819 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:25:22.819 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:25:22.819 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)'
2024-09-24 14:25:22.819 +05:30 [INF] Successfully validated the token.
2024-09-24 14:25:22.819 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:25:22.820 +05:30 [INF] Authorization was successful.
2024-09-24 14:25:22.820 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)'
2024-09-24 14:25:22.826 +05:30 [INF] Route matched with {action = "AddBook", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(BookStoreAPI.Models.DTO.CreateBookDTO) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:25:22.827 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:25:22.827 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:25:22.827 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:25:22.827 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:25:22.827 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:25:22.827 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:25:22.828 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:25:22.828 +05:30 [DBG] Attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO' ...
2024-09-24 14:25:22.828 +05:30 [DBG] Attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO' using the name '' in request data ...
2024-09-24 14:25:22.828 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:25:22.832 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.CreateBookDTO'
2024-09-24 14:25:22.832 +05:30 [DBG] Done attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO'.
2024-09-24 14:25:22.832 +05:30 [DBG] Done attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO'.
2024-09-24 14:25:22.833 +05:30 [DBG] Attempting to validate the bound parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO' ...
2024-09-24 14:25:22.834 +05:30 [DBG] Done attempting to validate the bound parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO'.
2024-09-24 14:25:22.849 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:25:22.886 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:22.886 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 14:25:22.886 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 14:25:22.886 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 14:25:22.887 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:22.887 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:22.887 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 14:25:22.888 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 14:25:22.905 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:25:22.906 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:25:22.907 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [AuthorId], [BookSizeId], [CoverImageUrl], [Description], [PublicationDate], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-24 14:25:22.923 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [AuthorId], [BookSizeId], [CoverImageUrl], [Description], [PublicationDate], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-24 14:25:22.924 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:25:22.924 +05:30 [DBG] Committing transaction.
2024-09-24 14:25:22.925 +05:30 [DBG] Committed transaction.
2024-09-24 14:25:22.925 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:22.926 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:22.926 +05:30 [DBG] Disposing transaction.
2024-09-24 14:25:22.926 +05:30 [DBG] An entity of type 'Book' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:22.926 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 14:25:22.927 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)
    .FirstOrDefault(b => b.Id == __book_Id_0)'
2024-09-24 14:25:22.929 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:25:22.930 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:25:22.944 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT TOP(1) b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
            FROM Books AS b
            INNER JOIN Authors AS a ON b.AuthorId == a.Id
            INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id
            WHERE b.Id == @__book_Id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:25:22.945 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:25:22.945 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:25:22.945 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:22.946 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:22.946 +05:30 [DBG] Executing DbCommand [Parameters=[@__book_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__book_Id_0
2024-09-24 14:25:22.954 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__book_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__book_Id_0
2024-09-24 14:25:22.955 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:22.955 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:22.955 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:25:22.955 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:22.955 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:22.968 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:25:22.968 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:25:22.968 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:25:22.968 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:25:22.968 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:25:22.969 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'BookStoreAPI.Models.DTO.BookDTO'.
2024-09-24 14:25:23.027 +05:30 [DBG] Found the endpoints ["BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-24 14:25:23.037 +05:30 [DBG] Successfully processed template api/BookStore/{id:Guid} for BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI) resulting in /api/BookStore/d5ae75f6-0e2a-488f-bf52-2e2be7659cf9 and 
2024-09-24 14:25:23.167 +05:30 [DBG] Link generation succeeded for endpoints ["BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)"] with result /api/BookStore/d5ae75f6-0e2a-488f-bf52-2e2be7659cf9
2024-09-24 14:25:23.168 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI) in 340.7683ms
2024-09-24 14:25:23.168 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)'
2024-09-24 14:25:23.169 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:25:23.169 +05:30 [DBG] Connection ID "18302628913014112267" disconnecting.
2024-09-24 14:25:23.169 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/BookStore application/json 268 - 201 - application/json;+charset=utf-8 358.6806ms
2024-09-24 14:25:31.827 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:25:31.830 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:25:31.830 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:25:31.830 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:25:31.830 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:25:31.861 +05:30 [INF] Successfully validated the token.
2024-09-24 14:25:31.861 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:25:31.861 +05:30 [INF] Authorization was successful.
2024-09-24 14:25:31.861 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:25:31.862 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:25:31.862 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:25:31.862 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:25:31.862 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:25:31.862 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:25:31.862 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:25:31.862 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:25:31.863 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:25:31.863 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:25:31.864 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:25:31.864 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:25:31.864 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:31.864 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:31.864 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:25:31.872 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:25:31.873 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:31.873 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:31.873 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:31.873 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:31.873 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:31.873 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:31.874 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:31.874 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:31.875 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:31.875 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:25:31.877 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:25:31.877 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:31.877 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:25:31.877 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:25:31.878 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:25:31.878 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:25:31.878 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:25:31.878 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:25:31.878 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:25:31.879 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 16.4848ms
2024-09-24 14:25:31.879 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:25:31.879 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:25:31.879 +05:30 [DBG] Connection ID "18374686494167138331" disconnecting.
2024-09-24 14:25:31.880 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 53.0276ms
2024-09-24 14:26:02.230 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/BookStore application/json 268
2024-09-24 14:26:02.232 +05:30 [DBG] POST requests are not supported
2024-09-24 14:26:02.233 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:26:02.238 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:26:02.238 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)'
2024-09-24 14:26:02.238 +05:30 [INF] Successfully validated the token.
2024-09-24 14:26:02.239 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:26:02.239 +05:30 [INF] Authorization was successful.
2024-09-24 14:26:02.239 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)'
2024-09-24 14:26:02.239 +05:30 [INF] Route matched with {action = "AddBook", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(BookStoreAPI.Models.DTO.CreateBookDTO) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:26:02.239 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:26:02.239 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:26:02.239 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:26:02.240 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:26:02.240 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:26:02.240 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:26:02.240 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:26:02.240 +05:30 [DBG] Attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO' ...
2024-09-24 14:26:02.241 +05:30 [DBG] Attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO' using the name '' in request data ...
2024-09-24 14:26:02.241 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:26:02.241 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.CreateBookDTO'
2024-09-24 14:26:02.242 +05:30 [DBG] Done attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO'.
2024-09-24 14:26:02.242 +05:30 [DBG] Done attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO'.
2024-09-24 14:26:02.242 +05:30 [DBG] Attempting to validate the bound parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO' ...
2024-09-24 14:26:02.242 +05:30 [DBG] Done attempting to validate the bound parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO'.
2024-09-24 14:26:02.244 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:26:02.244 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:02.245 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 14:26:02.245 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 14:26:02.245 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 14:26:02.246 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:02.246 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:02.247 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 14:26:02.248 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 14:26:02.249 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:26:02.249 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:26:02.249 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [AuthorId], [BookSizeId], [CoverImageUrl], [Description], [PublicationDate], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-24 14:26:02.257 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [AuthorId], [BookSizeId], [CoverImageUrl], [Description], [PublicationDate], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-24 14:26:02.258 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:26:02.264 +05:30 [DBG] Committing transaction.
2024-09-24 14:26:02.276 +05:30 [DBG] Committed transaction.
2024-09-24 14:26:02.276 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:02.276 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:02.276 +05:30 [DBG] Disposing transaction.
2024-09-24 14:26:02.277 +05:30 [DBG] An entity of type 'Book' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:02.277 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 14:26:02.278 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:26:02.278 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:26:02.278 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:02.278 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:02.278 +05:30 [DBG] Executing DbCommand [Parameters=[@__book_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__book_Id_0
2024-09-24 14:26:02.288 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__book_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__book_Id_0
2024-09-24 14:26:02.288 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:02.288 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:02.289 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:26:02.289 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:02.289 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:02.289 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:26:02.290 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:26:02.290 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:26:02.290 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:26:02.290 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:26:02.290 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'BookStoreAPI.Models.DTO.BookDTO'.
2024-09-24 14:26:02.290 +05:30 [DBG] Found the endpoints ["BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-24 14:26:02.291 +05:30 [DBG] Successfully processed template api/BookStore/{id:Guid} for BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI) resulting in /api/BookStore/af15997c-faf9-4090-b1f4-e7faee793534 and 
2024-09-24 14:26:02.291 +05:30 [DBG] Link generation succeeded for endpoints ["BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)"] with result /api/BookStore/af15997c-faf9-4090-b1f4-e7faee793534
2024-09-24 14:26:02.291 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI) in 51.6206ms
2024-09-24 14:26:02.292 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)'
2024-09-24 14:26:02.294 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:26:02.294 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/BookStore application/json 268 - 201 - application/json;+charset=utf-8 64.8860ms
2024-09-24 14:26:21.876 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:26:21.876 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:26:21.876 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:26:21.876 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:26:21.876 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:26:21.877 +05:30 [INF] Successfully validated the token.
2024-09-24 14:26:21.877 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:26:21.877 +05:30 [INF] Authorization was successful.
2024-09-24 14:26:21.877 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:26:21.878 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:26:21.878 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:26:21.878 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:26:21.878 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:26:21.878 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:26:21.878 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:26:21.878 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:26:21.879 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:26:21.880 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:26:21.881 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:26:21.881 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:26:21.881 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:21.882 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:21.882 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:26:21.893 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:26:21.893 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:21.894 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:21.894 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:21.894 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:21.894 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:21.894 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:21.895 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:21.895 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:21.895 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:21.895 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:21.896 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:21.896 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:26:21.897 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:21.897 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:21.898 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:26:21.898 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:26:21.898 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:26:21.898 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:26:21.898 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:26:21.898 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:26:21.899 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 20.8193ms
2024-09-24 14:26:21.900 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:26:21.900 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:26:21.900 +05:30 [DBG] Connection ID "18374686489872171025" disconnecting.
2024-09-24 14:26:21.901 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 25.1506ms
2024-09-24 14:26:49.765 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 - -
2024-09-24 14:26:49.766 +05:30 [DBG] DELETE requests are not supported
2024-09-24 14:26:49.774 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:26:49.775 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI)' with route pattern 'api/BookStore/{id:Guid}' is valid for the request path '/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4'
2024-09-24 14:26:49.775 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI)'
2024-09-24 14:26:49.776 +05:30 [INF] Successfully validated the token.
2024-09-24 14:26:49.776 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:26:49.777 +05:30 [INF] Authorization was successful.
2024-09-24 14:26:49.777 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI)'
2024-09-24 14:26:49.783 +05:30 [INF] Route matched with {action = "DeleteBook", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(System.Guid) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:26:49.783 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:26:49.783 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:26:49.783 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:26:49.783 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:26:49.784 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:26:49.784 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:26:49.784 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:26:49.784 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-24 14:26:49.785 +05:30 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-24 14:26:49.785 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 14:26:49.785 +05:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-24 14:26:49.785 +05:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-24 14:26:49.785 +05:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-24 14:26:49.789 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:26:49.799 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: (object)__get_Item_0))'
2024-09-24 14:26:49.855 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.AuthorId (Guid) Required FK Index, 1], [Property: Book.BookSizeId (Guid) Required FK Index, 2], [Property: Book.CoverImageUrl (string), 3], [Property: Book.Description (string), 4], [Property: Book.PublicationDate (Nullable<DateTime>), 5], [Property: Book.Title (string), 6], }
            SELECT TOP(1) b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title
            FROM Books AS b
            WHERE b.Id == @__get_Item_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:26:49.856 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:26:49.856 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:26:49.856 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:49.856 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:49.857 +05:30 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__get_Item_0
2024-09-24 14:26:49.868 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__get_Item_0
2024-09-24 14:26:49.869 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:49.869 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:26:49.869 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:49.869 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:49.877 +05:30 [DBG] An entity of type 'Book' tracked by 'BookStoreDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:49.880 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 14:26:49.881 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 14:26:49.881 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 14:26:49.881 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:49.881 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:49.881 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 14:26:49.882 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 14:26:49.892 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:26:49.892 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:26:49.893 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2024-09-24 14:26:49.896 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2024-09-24 14:26:49.896 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:26:49.896 +05:30 [DBG] Committing transaction.
2024-09-24 14:26:49.897 +05:30 [DBG] Committed transaction.
2024-09-24 14:26:49.897 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:49.897 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:26:49.897 +05:30 [DBG] Disposing transaction.
2024-09-24 14:26:49.909 +05:30 [DBG] An entity of type 'Book' tracked by 'BookStoreDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:26:49.909 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 14:26:49.919 +05:30 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2024-09-24 14:26:49.919 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI) in 135.3982ms
2024-09-24 14:26:49.919 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.DeleteBook (BookStoreAPI)'
2024-09-24 14:26:49.920 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:26:49.920 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:44310/api/BookStore/5a731842-30d3-4e49-bc0b-9ffba5a98dc4 - - - 204 - - 154.9330ms
2024-09-24 14:26:49.920 +05:30 [DBG] Connection ID "18230571293206380557" disconnecting.
2024-09-24 14:27:03.332 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:27:03.334 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:27:03.334 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:27:03.334 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:27:03.334 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:27:03.341 +05:30 [INF] Successfully validated the token.
2024-09-24 14:27:03.342 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:27:03.342 +05:30 [INF] Authorization was successful.
2024-09-24 14:27:03.343 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:27:03.343 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:27:03.344 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:27:03.344 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:27:03.344 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:27:03.344 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:27:03.345 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:27:03.345 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:27:03.346 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:27:03.347 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:27:03.349 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:27:03.356 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-24 14:27:03.356 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:03.356 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:03.356 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:27:03.359 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:27:03.361 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:03.361 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:03.362 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:03.363 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:03.363 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:03.363 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:03.363 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:03.363 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:03.364 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:03.364 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:03.364 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:27:03.364 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:03.365 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:03.365 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:27:03.365 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:27:03.365 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:27:03.365 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:27:03.366 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:27:03.366 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:27:03.367 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 21.8469ms
2024-09-24 14:27:03.367 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:27:03.367 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:27:03.367 +05:30 [DBG] Connection ID "18374686489872171027" disconnecting.
2024-09-24 14:27:03.367 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 35.6190ms
2024-09-24 14:27:16.451 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/BookStore application/json 268
2024-09-24 14:27:16.452 +05:30 [DBG] POST requests are not supported
2024-09-24 14:27:16.452 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:27:16.453 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:27:16.453 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)'
2024-09-24 14:27:16.453 +05:30 [INF] Successfully validated the token.
2024-09-24 14:27:16.454 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:27:16.454 +05:30 [INF] Authorization was successful.
2024-09-24 14:27:16.454 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)'
2024-09-24 14:27:16.455 +05:30 [INF] Route matched with {action = "AddBook", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(BookStoreAPI.Models.DTO.CreateBookDTO) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:27:16.455 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:27:16.455 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:27:16.455 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:27:16.456 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:27:16.456 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:27:16.456 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:27:16.456 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:27:16.457 +05:30 [DBG] Attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO' ...
2024-09-24 14:27:16.457 +05:30 [DBG] Attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO' using the name '' in request data ...
2024-09-24 14:27:16.457 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:27:16.457 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.CreateBookDTO'
2024-09-24 14:27:16.458 +05:30 [DBG] Done attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO'.
2024-09-24 14:27:16.458 +05:30 [DBG] Done attempting to bind parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO'.
2024-09-24 14:27:16.458 +05:30 [DBG] Attempting to validate the bound parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO' ...
2024-09-24 14:27:16.458 +05:30 [DBG] Done attempting to validate the bound parameter 'addBookDTO' of type 'BookStoreAPI.Models.DTO.CreateBookDTO'.
2024-09-24 14:27:16.458 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:27:16.459 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:16.459 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 14:27:16.459 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 14:27:16.459 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 14:27:16.459 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:16.460 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:16.460 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 14:27:16.460 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 14:27:16.461 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:27:16.461 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:27:16.461 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [AuthorId], [BookSizeId], [CoverImageUrl], [Description], [PublicationDate], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-24 14:27:16.467 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [AuthorId], [BookSizeId], [CoverImageUrl], [Description], [PublicationDate], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-24 14:27:16.467 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:27:16.468 +05:30 [DBG] Committing transaction.
2024-09-24 14:27:16.479 +05:30 [DBG] Committed transaction.
2024-09-24 14:27:16.480 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:16.480 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:16.480 +05:30 [DBG] Disposing transaction.
2024-09-24 14:27:16.480 +05:30 [DBG] An entity of type 'Book' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:16.481 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 14:27:16.481 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:27:16.482 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:27:16.482 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:16.482 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:16.482 +05:30 [DBG] Executing DbCommand [Parameters=[@__book_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__book_Id_0
2024-09-24 14:27:16.491 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__book_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
WHERE [b].[Id] = @__book_Id_0
2024-09-24 14:27:16.492 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:16.492 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:16.492 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:27:16.492 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:16.492 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:16.493 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:27:16.493 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:27:16.493 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:27:16.493 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:27:16.493 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:27:16.493 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'BookStoreAPI.Models.DTO.BookDTO'.
2024-09-24 14:27:16.493 +05:30 [DBG] Found the endpoints ["BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-24 14:27:16.493 +05:30 [DBG] Successfully processed template api/BookStore/{id:Guid} for BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI) resulting in /api/BookStore/37ba56a6-3d6b-457a-a940-dee6684cb325 and 
2024-09-24 14:27:16.493 +05:30 [DBG] Link generation succeeded for endpoints ["BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)"] with result /api/BookStore/37ba56a6-3d6b-457a-a940-dee6684cb325
2024-09-24 14:27:16.494 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI) in 37.9167ms
2024-09-24 14:27:16.494 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.AddBook (BookStoreAPI)'
2024-09-24 14:27:16.494 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:27:16.494 +05:30 [DBG] Connection ID "18230571293206380559" disconnecting.
2024-09-24 14:27:16.495 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/BookStore application/json 268 - 201 - application/json;+charset=utf-8 43.2529ms
2024-09-24 14:27:28.490 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore/filter/description - -
2024-09-24 14:27:28.490 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:27:28.492 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/filter/description'
2024-09-24 14:27:28.492 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)' with route pattern 'api/BookStore/filter/description' is valid for the request path '/api/BookStore/filter/description'
2024-09-24 14:27:28.492 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)'
2024-09-24 14:27:28.493 +05:30 [INF] Successfully validated the token.
2024-09-24 14:27:28.494 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:27:28.494 +05:30 [INF] Authorization was successful.
2024-09-24 14:27:28.494 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)'
2024-09-24 14:27:28.506 +05:30 [INF] Route matched with {action = "FilterBooksByDescription", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterBooksByDescription(System.String) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:27:28.506 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:27:28.506 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:27:28.506 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:27:28.506 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:27:28.507 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:27:28.507 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:27:28.507 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:27:28.508 +05:30 [DBG] Attempting to bind parameter 'substring' of type 'System.String' ...
2024-09-24 14:27:28.508 +05:30 [DBG] Attempting to bind parameter 'substring' of type 'System.String' using the name '' in request data ...
2024-09-24 14:27:28.510 +05:30 [DBG] Could not find a value in the request with name '' for binding parameter 'substring' of type 'System.String'.
2024-09-24 14:27:28.510 +05:30 [DBG] Done attempting to bind parameter 'substring' of type 'System.String'.
2024-09-24 14:27:28.510 +05:30 [DBG] Done attempting to bind parameter 'substring' of type 'System.String'.
2024-09-24 14:27:28.511 +05:30 [DBG] Attempting to validate the bound parameter 'substring' of type 'System.String' ...
2024-09-24 14:27:28.511 +05:30 [DBG] Done attempting to validate the bound parameter 'substring' of type 'System.String'.
2024-09-24 14:27:28.515 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:27:28.516 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:27:28.516 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:27:28.516 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:28.516 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:28.516 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:27:28.523 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:27:28.524 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:28.525 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:28.525 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:28.526 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:28.526 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:28.526 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:28.526 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:28.527 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:28.527 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:28.527 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:28.527 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:28.527 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:27:28.528 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:28.528 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:28.528 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:27:28.529 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:27:28.529 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:27:28.529 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:27:28.529 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:27:28.529 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:27:28.530 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI) in 22.9253ms
2024-09-24 14:27:28.530 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)'
2024-09-24 14:27:28.530 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:27:28.530 +05:30 [DBG] Connection ID "18374686494167138335" disconnecting.
2024-09-24 14:27:28.531 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore/filter/description - - - 200 - application/json;+charset=utf-8 40.4280ms
2024-09-24 14:27:43.508 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore/filter/description?substring=book - -
2024-09-24 14:27:43.508 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:27:43.512 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/filter/description'
2024-09-24 14:27:43.512 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)' with route pattern 'api/BookStore/filter/description' is valid for the request path '/api/BookStore/filter/description'
2024-09-24 14:27:43.512 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)'
2024-09-24 14:27:43.513 +05:30 [INF] Successfully validated the token.
2024-09-24 14:27:43.514 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:27:43.514 +05:30 [INF] Authorization was successful.
2024-09-24 14:27:43.514 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)'
2024-09-24 14:27:43.515 +05:30 [INF] Route matched with {action = "FilterBooksByDescription", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterBooksByDescription(System.String) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:27:43.515 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:27:43.515 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:27:43.515 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:27:43.515 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:27:43.515 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:27:43.515 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:27:43.516 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:27:43.518 +05:30 [DBG] Attempting to bind parameter 'substring' of type 'System.String' ...
2024-09-24 14:27:43.522 +05:30 [DBG] Attempting to bind parameter 'substring' of type 'System.String' using the name 'substring' in request data ...
2024-09-24 14:27:43.522 +05:30 [DBG] Done attempting to bind parameter 'substring' of type 'System.String'.
2024-09-24 14:27:43.522 +05:30 [DBG] Done attempting to bind parameter 'substring' of type 'System.String'.
2024-09-24 14:27:43.522 +05:30 [DBG] Attempting to validate the bound parameter 'substring' of type 'System.String' ...
2024-09-24 14:27:43.522 +05:30 [DBG] Done attempting to validate the bound parameter 'substring' of type 'System.String'.
2024-09-24 14:27:43.523 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:27:43.523 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:27:43.523 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:27:43.523 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:43.523 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:43.524 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:27:43.525 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:27:43.526 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:43.526 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:43.527 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:43.527 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:43.528 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:43.528 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:43.528 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:43.528 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:43.528 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:43.528 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:43.528 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:27:43.528 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:27:43.528 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:43.529 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:27:43.530 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:27:43.531 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:27:43.531 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:27:43.531 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:27:43.531 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:27:43.532 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:27:43.532 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI) in 17.2474ms
2024-09-24 14:27:43.533 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByDescription (BookStoreAPI)'
2024-09-24 14:27:43.533 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:27:43.533 +05:30 [DBG] Connection ID "18302628891539275812" disconnecting.
2024-09-24 14:27:43.533 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore/filter/description?substring=book - - - 200 - application/json;+charset=utf-8 25.2543ms
2024-09-24 14:28:05.867 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore/filter/title?substring=harry - -
2024-09-24 14:28:05.867 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:28:05.874 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/filter/title'
2024-09-24 14:28:05.874 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByTitle (BookStoreAPI)' with route pattern 'api/BookStore/filter/title' is valid for the request path '/api/BookStore/filter/title'
2024-09-24 14:28:05.874 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByTitle (BookStoreAPI)'
2024-09-24 14:28:05.875 +05:30 [INF] Successfully validated the token.
2024-09-24 14:28:05.875 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:28:05.875 +05:30 [INF] Authorization was successful.
2024-09-24 14:28:05.876 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByTitle (BookStoreAPI)'
2024-09-24 14:28:05.882 +05:30 [INF] Route matched with {action = "FilterBooksByTitle", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterBooksByTitle(System.String) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:28:05.883 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:28:05.883 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:28:05.883 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:28:05.883 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:28:05.883 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:28:05.883 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:28:05.883 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:28:05.884 +05:30 [DBG] Attempting to bind parameter 'substring' of type 'System.String' ...
2024-09-24 14:28:05.884 +05:30 [DBG] Attempting to bind parameter 'substring' of type 'System.String' using the name 'substring' in request data ...
2024-09-24 14:28:05.884 +05:30 [DBG] Done attempting to bind parameter 'substring' of type 'System.String'.
2024-09-24 14:28:05.884 +05:30 [DBG] Done attempting to bind parameter 'substring' of type 'System.String'.
2024-09-24 14:28:05.884 +05:30 [DBG] Attempting to validate the bound parameter 'substring' of type 'System.String' ...
2024-09-24 14:28:05.884 +05:30 [DBG] Done attempting to validate the bound parameter 'substring' of type 'System.String'.
2024-09-24 14:28:05.887 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:28:05.896 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:28:05.897 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:28:05.897 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:05.897 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:05.898 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:28:05.902 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:28:05.903 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:05.903 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:05.904 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:05.904 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:05.904 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:05.905 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:05.905 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:05.905 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:05.905 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:05.905 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:05.905 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:05.905 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:28:05.905 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:05.905 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:05.906 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:28:05.906 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:28:05.906 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:28:05.906 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:28:05.906 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:28:05.907 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:28:05.907 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.FilterBooksByTitle (BookStoreAPI) in 23.9474ms
2024-09-24 14:28:05.907 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.FilterBooksByTitle (BookStoreAPI)'
2024-09-24 14:28:05.907 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:28:05.908 +05:30 [DBG] Connection ID "18374686498462105634" disconnecting.
2024-09-24 14:28:05.908 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore/filter/title?substring=harry - - - 200 - application/json;+charset=utf-8 41.4157ms
2024-09-24 14:28:30.628 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore/sorted/Description?sortDescriptionAscending=true - -
2024-09-24 14:28:30.629 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:28:30.636 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/sorted/Description'
2024-09-24 14:28:30.636 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooksSortedByDescription (BookStoreAPI)' with route pattern 'api/BookStore/sorted/Description' is valid for the request path '/api/BookStore/sorted/Description'
2024-09-24 14:28:30.637 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooksSortedByDescription (BookStoreAPI)'
2024-09-24 14:28:30.645 +05:30 [INF] Successfully validated the token.
2024-09-24 14:28:30.645 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:28:30.646 +05:30 [INF] Authorization was successful.
2024-09-24 14:28:30.646 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooksSortedByDescription (BookStoreAPI)'
2024-09-24 14:28:30.652 +05:30 [INF] Route matched with {action = "GetAllBooksSortedByDescription", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooksSortedByDescription(Boolean) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:28:30.652 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:28:30.652 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:28:30.652 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:28:30.653 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:28:30.653 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:28:30.653 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:28:30.653 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:28:30.653 +05:30 [DBG] Attempting to bind parameter 'sortDescriptionAscending' of type 'System.Boolean' ...
2024-09-24 14:28:30.653 +05:30 [DBG] Attempting to bind parameter 'sortDescriptionAscending' of type 'System.Boolean' using the name 'sortDescriptionAscending' in request data ...
2024-09-24 14:28:30.654 +05:30 [DBG] Done attempting to bind parameter 'sortDescriptionAscending' of type 'System.Boolean'.
2024-09-24 14:28:30.654 +05:30 [DBG] Done attempting to bind parameter 'sortDescriptionAscending' of type 'System.Boolean'.
2024-09-24 14:28:30.654 +05:30 [DBG] Attempting to validate the bound parameter 'sortDescriptionAscending' of type 'System.Boolean' ...
2024-09-24 14:28:30.654 +05:30 [DBG] Done attempting to validate the bound parameter 'sortDescriptionAscending' of type 'System.Boolean'.
2024-09-24 14:28:30.664 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:28:30.666 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .OrderBy(b => b.Description)
    .Include(b => b.Author)
    .Include(b => b.BookSize)'
2024-09-24 14:28:30.670 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:28:30.671 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:28:30.694 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
        FROM Books AS b
        INNER JOIN Authors AS a ON b.AuthorId == a.Id
        INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id
        ORDER BY b.Description ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    BookStoreAPI.Data.BookStoreDbContext, 
    False, 
    False
)'
2024-09-24 14:28:30.696 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:28:30.696 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:28:30.697 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:30.697 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:30.697 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
ORDER BY [b].[Description]
2024-09-24 14:28:30.710 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
ORDER BY [b].[Description]
2024-09-24 14:28:30.715 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:30.715 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:30.715 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:30.716 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:30.716 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:30.716 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:30.716 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:30.716 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:30.716 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:30.716 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:30.717 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:30.717 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:28:30.717 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:30.717 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:30.717 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:28:30.718 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:28:30.718 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:28:30.718 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:28:30.718 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:28:30.718 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:28:30.719 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooksSortedByDescription (BookStoreAPI) in 66.0717ms
2024-09-24 14:28:30.719 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooksSortedByDescription (BookStoreAPI)'
2024-09-24 14:28:30.720 +05:30 [DBG] Connection ID "18374686502757072925" disconnecting.
2024-09-24 14:28:30.721 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:28:30.721 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore/sorted/Description?sortDescriptionAscending=true - - - 200 - application/json;+charset=utf-8 92.8140ms
2024-09-24 14:28:43.982 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore/sorted/title?sortTitleAscending=true - -
2024-09-24 14:28:43.983 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:28:43.988 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore/sorted/title'
2024-09-24 14:28:43.988 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetSortedBooksByTitle (BookStoreAPI)' with route pattern 'api/BookStore/sorted/title' is valid for the request path '/api/BookStore/sorted/title'
2024-09-24 14:28:43.988 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetSortedBooksByTitle (BookStoreAPI)'
2024-09-24 14:28:43.990 +05:30 [INF] Successfully validated the token.
2024-09-24 14:28:43.991 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:28:43.991 +05:30 [INF] Authorization was successful.
2024-09-24 14:28:43.991 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetSortedBooksByTitle (BookStoreAPI)'
2024-09-24 14:28:44.002 +05:30 [INF] Route matched with {action = "GetSortedBooksByTitle", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSortedBooksByTitle(Boolean) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:28:44.003 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:28:44.003 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:28:44.003 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:28:44.003 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:28:44.003 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:28:44.003 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:28:44.004 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:28:44.005 +05:30 [DBG] Attempting to bind parameter 'sortTitleAscending' of type 'System.Boolean' ...
2024-09-24 14:28:44.005 +05:30 [DBG] Attempting to bind parameter 'sortTitleAscending' of type 'System.Boolean' using the name 'sortTitleAscending' in request data ...
2024-09-24 14:28:44.005 +05:30 [DBG] Done attempting to bind parameter 'sortTitleAscending' of type 'System.Boolean'.
2024-09-24 14:28:44.005 +05:30 [DBG] Done attempting to bind parameter 'sortTitleAscending' of type 'System.Boolean'.
2024-09-24 14:28:44.005 +05:30 [DBG] Attempting to validate the bound parameter 'sortTitleAscending' of type 'System.Boolean' ...
2024-09-24 14:28:44.006 +05:30 [DBG] Done attempting to validate the bound parameter 'sortTitleAscending' of type 'System.Boolean'.
2024-09-24 14:28:44.011 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:28:44.012 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)
    .OrderBy(b => b.Title)'
2024-09-24 14:28:44.017 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:28:44.018 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:28:44.037 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
        FROM Books AS b
        INNER JOIN Authors AS a ON b.AuthorId == a.Id
        INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id
        ORDER BY b.Title ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    BookStoreAPI.Data.BookStoreDbContext, 
    False, 
    False
)'
2024-09-24 14:28:44.038 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:28:44.039 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:28:44.039 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:44.040 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:44.040 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
ORDER BY [b].[Title]
2024-09-24 14:28:44.058 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
ORDER BY [b].[Title]
2024-09-24 14:28:44.058 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:44.058 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:44.059 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:44.059 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:44.059 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:44.059 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:44.059 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:44.059 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:44.059 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:44.059 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:44.060 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:44.060 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:28:44.060 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:44.060 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:44.061 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:28:44.061 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:28:44.061 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:28:44.061 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:28:44.062 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:28:44.062 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:28:44.064 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetSortedBooksByTitle (BookStoreAPI) in 60.3847ms
2024-09-24 14:28:44.065 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetSortedBooksByTitle (BookStoreAPI)'
2024-09-24 14:28:44.066 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:28:44.067 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore/sorted/title?sortTitleAscending=true - - - 200 - application/json;+charset=utf-8 84.7750ms
2024-09-24 14:28:58.946 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore/paginated?pageNumber=1&pageSize=2 - -
2024-09-24 14:28:58.946 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:28:58.947 +05:30 [DBG] 2 candidate(s) found for the request path '/api/BookStore/paginated'
2024-09-24 14:28:58.947 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetPaginatedBooks (BookStoreAPI)' with route pattern 'api/BookStore/paginated' is valid for the request path '/api/BookStore/paginated'
2024-09-24 14:28:58.964 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)' with route pattern 'api/BookStore/{id:Guid}' was rejected by constraint 'id':'Microsoft.AspNetCore.Routing.Constraints.GuidRouteConstraint' with value 'paginated' for the request path '/api/BookStore/paginated'
2024-09-24 14:28:58.964 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetBookById (BookStoreAPI)' with route pattern 'api/BookStore/{id:Guid}' is not valid for the request path '/api/BookStore/paginated'
2024-09-24 14:28:58.964 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetPaginatedBooks (BookStoreAPI)'
2024-09-24 14:28:58.965 +05:30 [INF] Successfully validated the token.
2024-09-24 14:28:58.965 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:28:58.965 +05:30 [INF] Authorization was successful.
2024-09-24 14:28:58.965 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetPaginatedBooks (BookStoreAPI)'
2024-09-24 14:28:58.973 +05:30 [INF] Route matched with {action = "GetPaginatedBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaginatedBooks(Int32, Int32) on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:28:58.974 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:28:58.974 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:28:58.974 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:28:58.974 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:28:58.974 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:28:58.974 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:28:58.974 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:28:58.975 +05:30 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-24 14:28:58.975 +05:30 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-24 14:28:58.975 +05:30 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-24 14:28:58.976 +05:30 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-24 14:28:58.976 +05:30 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-24 14:28:58.976 +05:30 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-24 14:28:58.976 +05:30 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-24 14:28:58.976 +05:30 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-24 14:28:58.976 +05:30 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-24 14:28:58.976 +05:30 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-24 14:28:58.976 +05:30 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-24 14:28:58.976 +05:30 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-24 14:28:58.984 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:28:58.986 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Count()'
2024-09-24 14:28:59.005 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Books AS b), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:28:59.027 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:28:59.027 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:28:59.027 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:59.028 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:59.028 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2024-09-24 14:28:59.031 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2024-09-24 14:28:59.049 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:28:59.049 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:59.049 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:59.057 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)
    .Skip(__p_0)
    .Take(__p_1)'
2024-09-24 14:28:59.059 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:28:59.059 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:28:59.062 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2024-09-24 14:28:59.063 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.
2024-09-24 14:28:59.104 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT t.Id, t.AuthorId, t.BookSizeId, t.CoverImageUrl, t.Description, t.PublicationDate, t.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
        FROM Projection Mapping:
        (
            SELECT b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title
            FROM Books AS b
            ORDER BY (SELECT 1)
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Authors AS a ON t.AuthorId == a.Id
        INNER JOIN BookSizes AS b0 ON t.BookSizeId == b0.Id), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    BookStoreAPI.Data.BookStoreDbContext, 
    False, 
    False
)'
2024-09-24 14:28:59.107 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:28:59.107 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:28:59.107 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:59.107 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:59.107 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[BookSizeId], [t].[CoverImageUrl], [t].[Description], [t].[PublicationDate], [t].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Authors] AS [a] ON [t].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [t].[BookSizeId] = [b0].[Id]
2024-09-24 14:28:59.114 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[BookSizeId], [t].[CoverImageUrl], [t].[Description], [t].[PublicationDate], [t].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Authors] AS [a] ON [t].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [t].[BookSizeId] = [b0].[Id]
2024-09-24 14:28:59.115 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:59.115 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:59.115 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:59.115 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:59.115 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:59.115 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:28:59.116 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:28:59.116 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:59.116 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:28:59.120 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:28:59.120 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:28:59.120 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:28:59.120 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:28:59.121 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:28:59.121 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:28:59.126 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetPaginatedBooks (BookStoreAPI) in 151.4605ms
2024-09-24 14:28:59.126 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetPaginatedBooks (BookStoreAPI)'
2024-09-24 14:28:59.126 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:28:59.126 +05:30 [DBG] Connection ID "18230571293206380561" disconnecting.
2024-09-24 14:28:59.126 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore/paginated?pageNumber=1&pageSize=2 - - - 200 - application/json;+charset=utf-8 180.1175ms
2024-09-24 14:38:37.532 +05:30 [INF] Starting up the application...
2024-09-24 14:38:38.801 +05:30 [DBG] Hosting starting
2024-09-24 14:38:38.866 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:38:38.883 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 14:38:38.916 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 14:38:38.928 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 14:38:38.937 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:38:38.940 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 14:38:38.942 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:38:38.947 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 14:38:38.950 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 14:38:38.954 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 14:38:38.955 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 14:38:39.159 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 14:38:39.160 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:38:39.160 +05:30 [INF] Hosting environment: Development
2024-09-24 14:38:39.160 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 14:38:39.160 +05:30 [DBG] Hosting started
2024-09-24 14:38:39.219 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 14:38:39.221 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 14:38:39.406 +05:30 [DBG] Connection ID "18374686502757072927" disconnecting.
2024-09-24 14:38:39.410 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 192.2649ms
2024-09-24 14:38:39.492 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 14:38:39.582 +05:30 [DBG] Connection ID "18374686494167138337" disconnecting.
2024-09-24 14:38:39.582 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 90.9241ms
2024-09-24 14:38:52.318 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 55
2024-09-24 14:38:52.322 +05:30 [DBG] POST requests are not supported
2024-09-24 14:38:52.367 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 14:38:52.373 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 14:38:52.373 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:38:52.647 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:38:52.654 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:38:52.669 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 14:38:52.737 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:38:52.738 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:38:52.738 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:38:52.739 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:38:52.739 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:38:52.739 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:38:52.740 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:38:52.933 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 14:38:52.981 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:38:52.993 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:38:52.997 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 14:38:52.998 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:38:53.052 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 14:38:53.053 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:38:53.053 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:38:53.053 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:38:53.056 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:38:54.027 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:38:54.088 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __registerDTO_Username_0)'
2024-09-24 14:38:54.255 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__registerDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:38:54.300 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:38:54.373 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (67ms).
2024-09-24 14:38:54.382 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:38:54.904 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:38:54.932 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:38:55.016 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:38:55.028 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:38:55.031 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:38:55.036 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:38:55.325 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:38:55.330 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 14:38:55.338 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 14:38:55.354 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 14:38:55.381 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:38:55.383 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:38:55.384 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 14:38:55.394 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 14:38:55.452 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:38:55.453 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:38:55.454 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 14:38:55.459 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 14:38:55.466 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:38:55.469 +05:30 [DBG] Committing transaction.
2024-09-24 14:38:55.484 +05:30 [DBG] Committed transaction.
2024-09-24 14:38:55.488 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:38:55.488 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:38:55.491 +05:30 [DBG] Disposing transaction.
2024-09-24 14:38:55.506 +05:30 [DBG] An entity of type 'User' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:38:55.508 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 14:38:55.514 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:38:55.517 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:38:55.517 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:38:55.517 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:38:55.518 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:38:55.518 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'BookStoreAPI.Models.Domain.User'.
2024-09-24 14:38:55.531 +05:30 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-24 14:38:55.539 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 2794.6693ms
2024-09-24 14:38:55.540 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:38:55.651 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:38:55.923 +05:30 [DBG] Connection ID "18374686481282236457" disconnecting.
2024-09-24 14:38:55.924 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:38:55.927 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 55 - 500 - application/json 3608.5047ms
2024-09-24 14:40:02.638 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 14:40:02.645 +05:30 [DBG] POST requests are not supported
2024-09-24 14:40:02.649 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:40:02.649 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:40:02.649 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:40:02.656 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:40:02.657 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:40:02.666 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:40:02.666 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:40:02.666 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:40:02.666 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:40:02.667 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:40:02.667 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:40:02.667 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:40:02.667 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:40:02.668 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:40:02.668 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 14:40:02.668 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:40:02.670 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 14:40:02.670 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:40:02.670 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:40:02.670 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:40:02.671 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:40:02.707 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:40:02.708 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 14:40:02.714 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:40:02.714 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:40:02.715 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:40:02.715 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:02.715 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:02.715 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:40:02.720 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:40:02.743 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:40:02.744 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:40:02.744 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:02.744 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:02.783 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:40:02.783 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:40:02.784 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:40:02.784 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:40:02.784 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:40:02.784 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:40:02.810 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 143.1759ms
2024-09-24 14:40:02.810 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:40:02.811 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:40:02.811 +05:30 [DBG] Connection ID "18374686498462105636" disconnecting.
2024-09-24 14:40:02.811 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 200 - application/json;+charset=utf-8 172.2342ms
2024-09-24 14:40:24.367 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 55
2024-09-24 14:40:24.367 +05:30 [DBG] POST requests are not supported
2024-09-24 14:40:24.367 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 14:40:24.369 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 14:40:24.369 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:40:24.481 +05:30 [INF] Successfully validated the token.
2024-09-24 14:40:24.482 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:40:24.482 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:40:24.482 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:40:24.482 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:40:24.482 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:40:24.483 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:40:24.483 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:40:24.483 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:40:24.483 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:40:24.485 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:40:24.485 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:40:24.485 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 14:40:24.485 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:40:24.485 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 14:40:24.485 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:40:24.485 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:40:24.485 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:40:24.485 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:40:24.494 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:40:24.498 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:40:24.498 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:40:24.498 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:24.498 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:24.498 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:40:24.504 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:40:24.510 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:40:24.510 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:40:24.510 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:24.510 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:24.511 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:40:24.511 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:40:24.511 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:40:24.511 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:40:24.511 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:40:24.512 +05:30 [INF] Executing ConflictObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:40:24.513 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 30.3773ms
2024-09-24 14:40:24.513 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:40:24.513 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:40:24.514 +05:30 [DBG] Connection ID "18302628913014112269" disconnecting.
2024-09-24 14:40:24.514 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 55 - 409 - application/json;+charset=utf-8 146.9724ms
2024-09-24 14:40:38.853 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 14:40:38.853 +05:30 [DBG] POST requests are not supported
2024-09-24 14:40:38.853 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 14:40:38.853 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 14:40:38.853 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:40:38.854 +05:30 [INF] Successfully validated the token.
2024-09-24 14:40:38.854 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:40:38.854 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:40:38.855 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:40:38.855 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:40:38.855 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:40:38.855 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:40:38.855 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:40:38.855 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:40:38.855 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:40:38.855 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:40:38.855 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:40:38.855 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 14:40:38.855 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:40:38.855 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 14:40:38.855 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:40:38.856 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:40:38.856 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:40:38.856 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:40:38.856 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:40:38.856 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:40:38.856 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:40:38.856 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:38.856 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:38.857 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:40:38.860 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:40:38.861 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:40:38.861 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:38.861 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:39.107 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:40:39.107 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 14:40:39.107 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 14:40:39.108 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 14:40:39.108 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:39.108 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:39.109 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 14:40:39.109 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 14:40:39.110 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:40:39.110 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:40:39.110 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 14:40:39.112 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 14:40:39.112 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:40:39.113 +05:30 [DBG] Committing transaction.
2024-09-24 14:40:39.124 +05:30 [DBG] Committed transaction.
2024-09-24 14:40:39.124 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:39.124 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:40:39.124 +05:30 [DBG] Disposing transaction.
2024-09-24 14:40:39.124 +05:30 [DBG] An entity of type 'User' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:40:39.124 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 14:40:39.125 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:40:39.125 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:40:39.125 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:40:39.125 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:40:39.125 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:40:39.125 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'BookStoreAPI.Models.Domain.User'.
2024-09-24 14:40:39.125 +05:30 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-24 14:40:39.126 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 271.4408ms
2024-09-24 14:40:39.127 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:40:39.180 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:40:39.183 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:40:39.186 +05:30 [DBG] Connection ID "18374686498462105638" disconnecting.
2024-09-24 14:40:39.186 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 333.3984ms
2024-09-24 14:41:02.216 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 14:41:02.218 +05:30 [DBG] POST requests are not supported
2024-09-24 14:41:02.218 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 14:41:02.222 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 14:41:02.222 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:41:02.223 +05:30 [INF] Successfully validated the token.
2024-09-24 14:41:02.223 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:41:02.223 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:41:02.223 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:41:02.223 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:41:02.223 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:41:02.223 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:41:02.223 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:41:02.223 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:41:02.223 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:41:02.223 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:41:02.223 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:41:02.223 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 14:41:02.223 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:41:02.224 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 14:41:02.224 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:41:02.224 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:41:02.224 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:41:02.224 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:41:02.224 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:41:02.225 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:41:02.225 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:41:02.225 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:02.226 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:02.226 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:41:02.232 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:41:02.239 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:41:02.239 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:41:02.239 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:02.249 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:02.249 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:41:02.249 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:41:02.249 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:41:02.249 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:41:02.249 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:41:02.249 +05:30 [INF] Executing ConflictObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:41:02.250 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 26.9298ms
2024-09-24 14:41:02.250 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:41:02.250 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:41:02.250 +05:30 [DBG] Connection ID "18374686498462105640" disconnecting.
2024-09-24 14:41:02.250 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 409 - application/json;+charset=utf-8 34.4422ms
2024-09-24 14:41:11.096 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 14:41:11.096 +05:30 [DBG] POST requests are not supported
2024-09-24 14:41:11.096 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 14:41:11.097 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 14:41:11.097 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:41:11.097 +05:30 [INF] Successfully validated the token.
2024-09-24 14:41:11.097 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:41:11.097 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:41:11.097 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:41:11.097 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:41:11.097 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:41:11.097 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:41:11.097 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:41:11.098 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:41:11.098 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:41:11.098 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:41:11.098 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:41:11.098 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 14:41:11.098 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:41:11.098 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 14:41:11.098 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:41:11.098 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:41:11.099 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:41:11.099 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:41:11.100 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:41:11.100 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:41:11.100 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:41:11.100 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:11.100 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:11.101 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:41:11.108 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:41:11.109 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:41:11.109 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:11.109 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:11.348 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:41:11.348 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 14:41:11.348 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 14:41:11.348 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 14:41:11.348 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:11.349 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:11.349 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 14:41:11.349 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 14:41:11.350 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:41:11.350 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:41:11.350 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 14:41:11.352 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 14:41:11.353 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:41:11.353 +05:30 [DBG] Committing transaction.
2024-09-24 14:41:11.364 +05:30 [DBG] Committed transaction.
2024-09-24 14:41:11.365 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:11.365 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:11.365 +05:30 [DBG] Disposing transaction.
2024-09-24 14:41:11.365 +05:30 [DBG] An entity of type 'User' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:41:11.365 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 14:41:11.366 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:41:11.366 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:41:11.366 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:41:11.366 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:41:11.366 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:41:11.366 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'BookStoreAPI.Models.Domain.User'.
2024-09-24 14:41:11.366 +05:30 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-24 14:41:11.367 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 269.7127ms
2024-09-24 14:41:11.368 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:41:11.422 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:41:11.424 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:41:11.424 +05:30 [DBG] Connection ID "18374686494167138339" disconnecting.
2024-09-24 14:41:11.425 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 328.7898ms
2024-09-24 14:41:15.593 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 14:41:15.594 +05:30 [DBG] POST requests are not supported
2024-09-24 14:41:15.594 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 14:41:15.594 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 14:41:15.594 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:41:15.594 +05:30 [INF] Successfully validated the token.
2024-09-24 14:41:15.594 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:41:15.594 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:41:15.594 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:41:15.594 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:41:15.594 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:41:15.594 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:41:15.594 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:41:15.594 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:41:15.594 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:41:15.595 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:41:15.595 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:41:15.595 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 14:41:15.595 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:41:15.595 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 14:41:15.595 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:41:15.595 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:41:15.595 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:41:15.595 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:41:15.596 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:41:15.596 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:41:15.596 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:41:15.596 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:15.597 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:15.597 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:41:15.599 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:41:15.600 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:41:15.600 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:41:15.600 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:15.600 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:41:15.600 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:41:15.600 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:41:15.600 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:41:15.600 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:41:15.600 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:41:15.600 +05:30 [INF] Executing ConflictObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:41:15.601 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 6.1844ms
2024-09-24 14:41:15.601 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:41:15.601 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:41:15.601 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 409 - application/json;+charset=utf-8 8.0991ms
2024-09-24 14:41:15.601 +05:30 [DBG] Connection ID "18302628913014112271" disconnecting.
2024-09-24 14:43:55.924 +05:30 [INF] Starting up the application...
2024-09-24 14:43:56.873 +05:30 [DBG] Hosting starting
2024-09-24 14:43:56.944 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:43:56.962 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 14:43:56.995 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 14:43:57.007 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 14:43:57.022 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:43:57.026 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 14:43:57.028 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:43:57.032 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 14:43:57.035 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 14:43:57.038 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 14:43:57.039 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 14:43:57.311 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 14:43:57.312 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:43:57.312 +05:30 [INF] Hosting environment: Development
2024-09-24 14:43:57.312 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 14:43:57.312 +05:30 [DBG] Hosting started
2024-09-24 14:43:57.377 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 14:43:57.378 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 14:43:57.590 +05:30 [DBG] Connection ID "18230571323271151632" disconnecting.
2024-09-24 14:43:57.594 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 219.1818ms
2024-09-24 14:43:57.680 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 14:43:57.779 +05:30 [DBG] Connection ID "18230571323271151634" disconnecting.
2024-09-24 14:43:57.779 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 98.8442ms
2024-09-24 14:44:14.125 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 14:44:14.127 +05:30 [DBG] POST requests are not supported
2024-09-24 14:44:14.162 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 14:44:14.171 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 14:44:14.173 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:44:14.386 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:44:14.391 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:44:14.400 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 14:44:14.431 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:44:14.432 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:44:14.432 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:44:14.433 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:44:14.433 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:44:14.433 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:44:14.434 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:44:14.586 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 14:44:14.622 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:44:14.630 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:44:14.632 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 14:44:14.634 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:44:14.673 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 14:44:14.673 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:44:14.674 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:44:14.674 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:44:14.680 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:44:15.697 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:44:15.810 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __registerDTO_Username_0)'
2024-09-24 14:44:16.049 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__registerDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:44:16.116 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:44:16.214 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (89ms).
2024-09-24 14:44:16.226 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:16.561 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:16.580 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:44:16.646 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:44:16.670 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:44:16.673 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:16.677 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:16.989 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:44:16.994 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 14:44:16.998 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 14:44:17.019 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 14:44:17.045 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:17.046 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:17.049 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 14:44:17.060 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 14:44:17.097 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:44:17.097 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:44:17.098 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 14:44:17.102 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 14:44:17.107 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:44:17.110 +05:30 [DBG] Committing transaction.
2024-09-24 14:44:17.124 +05:30 [DBG] Committed transaction.
2024-09-24 14:44:17.128 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:17.128 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:17.129 +05:30 [DBG] Disposing transaction.
2024-09-24 14:44:17.144 +05:30 [DBG] An entity of type 'User' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:44:17.146 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 14:44:17.152 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:44:17.156 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:44:17.156 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:44:17.156 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:44:17.158 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:44:17.158 +05:30 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:44:17.174 +05:30 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-24 14:44:17.182 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 2744.545ms
2024-09-24 14:44:17.184 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:44:17.273 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:44:17.570 +05:30 [DBG] Connection ID "18374686507052040215" disconnecting.
2024-09-24 14:44:17.571 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:44:17.575 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 3450.8601ms
2024-09-24 14:44:23.642 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 14:44:23.642 +05:30 [DBG] POST requests are not supported
2024-09-24 14:44:23.645 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 14:44:23.645 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 14:44:23.645 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:44:23.646 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:44:23.646 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:44:23.646 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:44:23.647 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:44:23.647 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:44:23.647 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:44:23.647 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:44:23.647 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:44:23.647 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:44:23.647 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:44:23.648 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:44:23.648 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 14:44:23.648 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:44:23.648 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 14:44:23.648 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:44:23.648 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:44:23.648 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 14:44:23.648 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 14:44:23.691 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:44:23.695 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:44:23.695 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:44:23.695 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:23.695 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:23.696 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:44:23.697 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 14:44:23.710 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:44:23.712 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:44:23.712 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:23.712 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:44:23.712 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:44:23.712 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:44:23.712 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:44:23.712 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:44:23.712 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:44:23.712 +05:30 [INF] Executing ConflictObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:44:23.727 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 79.9573ms
2024-09-24 14:44:23.727 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 14:44:23.727 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:44:23.727 +05:30 [DBG] Connection ID "18302628904424177682" disconnecting.
2024-09-24 14:44:23.728 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 409 - application/json;+charset=utf-8 85.2390ms
2024-09-24 14:50:36.132 +05:30 [INF] Starting up the application...
2024-09-24 14:50:37.065 +05:30 [DBG] Hosting starting
2024-09-24 14:50:37.137 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:50:37.155 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 14:50:37.198 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 14:50:37.211 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 14:50:37.219 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:50:37.221 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 14:50:37.223 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:50:37.232 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 14:50:37.234 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 14:50:37.237 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 14:50:37.238 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 14:50:37.464 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 14:50:37.465 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:50:37.465 +05:30 [INF] Hosting environment: Development
2024-09-24 14:50:37.465 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 14:50:37.465 +05:30 [DBG] Hosting started
2024-09-24 14:50:37.516 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 14:50:37.518 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 14:50:37.696 +05:30 [DBG] Connection ID "18374686507052040217" disconnecting.
2024-09-24 14:50:37.701 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 186.4131ms
2024-09-24 14:50:37.780 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 14:50:37.882 +05:30 [DBG] Connection ID "18374686494167138341" disconnecting.
2024-09-24 14:50:37.882 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 101.8805ms
2024-09-24 14:51:00.393 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 55
2024-09-24 14:51:00.397 +05:30 [DBG] POST requests are not supported
2024-09-24 14:51:00.466 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 14:51:00.474 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 14:51:00.475 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 14:51:00.651 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:51:00.656 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 14:51:00.672 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 14:51:00.712 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:51:00.714 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:51:00.714 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:51:00.715 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:51:00.715 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:51:00.715 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:51:00.717 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:51:00.892 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 14:51:00.926 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI) in 205.5176ms
2024-09-24 14:51:00.927 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 14:51:00.963 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:51:01.344 +05:30 [DBG] Connection ID "18374686498462105643" disconnecting.
2024-09-24 14:51:01.345 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 55 - 500 - application/json 952.6490ms
2024-09-24 14:51:08.920 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 55
2024-09-24 14:51:08.920 +05:30 [DBG] POST requests are not supported
2024-09-24 14:51:08.922 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 14:51:08.922 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 14:51:08.922 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 14:51:08.924 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:51:08.927 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 14:51:08.928 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:51:08.928 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:51:08.928 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:51:08.928 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:51:08.928 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:51:08.928 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:51:08.928 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:51:08.930 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI) in 1.7088ms
2024-09-24 14:51:08.930 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 14:51:08.950 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:51:08.952 +05:30 [DBG] Connection ID "18302628908719144971" disconnecting.
2024-09-24 14:51:08.952 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 55 - 500 - application/json 32.1515ms
2024-09-24 14:51:12.286 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 55
2024-09-24 14:51:12.287 +05:30 [DBG] POST requests are not supported
2024-09-24 14:51:12.287 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 14:51:12.287 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 14:51:12.287 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 14:51:12.289 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:51:12.289 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 14:51:12.289 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:51:12.289 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:51:12.289 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:51:12.289 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:51:12.289 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:51:12.289 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:51:12.289 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:51:12.293 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI) in 3.9131ms
2024-09-24 14:51:12.294 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.Register (BookStoreAPI)'
2024-09-24 14:51:12.326 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:51:12.328 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 55 - 500 - application/json 41.6578ms
2024-09-24 14:51:12.328 +05:30 [DBG] Connection ID "18374686489872171029" disconnecting.
2024-09-24 14:51:33.462 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 14:51:33.462 +05:30 [DBG] POST requests are not supported
2024-09-24 14:51:33.463 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:51:33.463 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:51:33.464 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:51:33.468 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:51:33.468 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:51:33.472 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:51:33.472 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:51:33.472 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:51:33.473 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:51:33.473 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:51:33.473 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:51:33.473 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:51:33.474 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 1.6426ms
2024-09-24 14:51:33.475 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:51:33.505 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method25(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:51:33.508 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 500 - application/json 45.9684ms
2024-09-24 14:52:38.276 +05:30 [INF] Starting up the application...
2024-09-24 14:52:39.115 +05:30 [DBG] Hosting starting
2024-09-24 14:52:39.177 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:52:39.190 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 14:52:39.215 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 14:52:39.225 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 14:52:39.232 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:52:39.236 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 14:52:39.238 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:52:39.242 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 14:52:39.245 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 14:52:39.248 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 14:52:39.249 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 14:52:39.468 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 14:52:39.469 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:52:39.469 +05:30 [INF] Hosting environment: Development
2024-09-24 14:52:39.470 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 14:52:39.470 +05:30 [DBG] Hosting started
2024-09-24 14:52:39.552 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 14:52:39.553 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 14:52:39.740 +05:30 [DBG] Connection ID "18374686489872171033" disconnecting.
2024-09-24 14:52:39.745 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 195.2106ms
2024-09-24 14:52:39.824 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 14:52:39.915 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 91.0272ms
2024-09-24 14:52:39.915 +05:30 [DBG] Connection ID "18374686481282236460" disconnecting.
2024-09-24 14:53:15.256 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 14:53:15.258 +05:30 [DBG] POST requests are not supported
2024-09-24 14:53:15.328 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:53:15.336 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:53:15.337 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:53:15.537 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:53:15.540 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:53:15.548 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 14:53:15.594 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:53:15.596 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:53:15.597 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:53:15.597 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:53:15.597 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:53:15.598 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:53:15.599 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:53:15.752 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 14:53:15.788 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 185.7749ms
2024-09-24 14:53:15.789 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:53:15.836 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:53:16.119 +05:30 [DBG] Connection ID "18374686502757072930" disconnecting.
2024-09-24 14:53:16.120 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 500 - application/json 864.3998ms
2024-09-24 14:53:38.988 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 51
2024-09-24 14:53:38.992 +05:30 [DBG] POST requests are not supported
2024-09-24 14:53:38.994 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:53:38.995 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:53:38.995 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:53:38.999 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:53:39.007 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:53:39.010 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:53:39.011 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:53:39.011 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:53:39.011 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:53:39.011 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:53:39.011 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:53:39.011 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:53:39.017 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 5.9276ms
2024-09-24 14:53:39.017 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:53:39.034 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:53:39.036 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 51 - 500 - application/json 48.0292ms
2024-09-24 14:53:39.036 +05:30 [DBG] Connection ID "18302628891539275817" disconnecting.
2024-09-24 14:53:43.142 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 51
2024-09-24 14:53:43.143 +05:30 [DBG] POST requests are not supported
2024-09-24 14:53:43.143 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:53:43.143 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:53:43.143 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:53:43.145 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:53:43.146 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:53:43.146 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:53:43.146 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:53:43.146 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:53:43.146 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:53:43.146 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:53:43.146 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:53:43.147 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:53:43.152 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 5.5052ms
2024-09-24 14:53:43.153 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:53:43.178 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:53:43.180 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 51 - 500 - application/json 38.5497ms
2024-09-24 14:53:56.529 +05:30 [INF] Starting up the application...
2024-09-24 14:53:57.483 +05:30 [DBG] Hosting starting
2024-09-24 14:53:57.541 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:53:57.556 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 14:53:57.580 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 14:53:57.592 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 14:53:57.601 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:53:57.604 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 14:53:57.606 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:53:57.609 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 14:53:57.612 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 14:53:57.614 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 14:53:57.615 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 14:53:57.790 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 14:53:57.791 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:53:57.791 +05:30 [INF] Hosting environment: Development
2024-09-24 14:53:57.791 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 14:53:57.791 +05:30 [DBG] Hosting started
2024-09-24 14:53:57.837 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 14:53:57.839 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 14:53:57.982 +05:30 [DBG] Connection ID "18230571323271151637" disconnecting.
2024-09-24 14:53:57.986 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 151.6915ms
2024-09-24 14:53:58.069 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 14:53:58.155 +05:30 [DBG] Connection ID "18374686494167138344" disconnecting.
2024-09-24 14:53:58.156 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.4554ms
2024-09-24 14:54:12.605 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 14:54:12.608 +05:30 [DBG] POST requests are not supported
2024-09-24 14:54:12.661 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:54:12.669 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:54:12.670 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:54:12.853 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:54:12.858 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:54:12.870 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 14:54:12.930 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:54:12.932 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:54:12.932 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:54:12.933 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:54:12.934 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:54:12.934 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:54:12.935 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:54:13.107 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 14:54:13.149 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 210.4289ms
2024-09-24 14:54:13.151 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:54:13.202 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:54:13.524 +05:30 [DBG] Connection ID "18374686481282236462" disconnecting.
2024-09-24 14:54:13.525 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 500 - application/json 919.8720ms
2024-09-24 14:55:02.552 +05:30 [INF] Starting up the application...
2024-09-24 14:55:05.291 +05:30 [DBG] Hosting starting
2024-09-24 14:55:05.356 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:55:05.374 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 14:55:05.409 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 14:55:05.419 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 14:55:05.430 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:55:05.434 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 14:55:05.436 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:55:05.440 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 14:55:05.444 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 14:55:05.447 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 14:55:05.447 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 14:55:05.873 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 14:55:05.874 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:55:05.874 +05:30 [INF] Hosting environment: Development
2024-09-24 14:55:05.874 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 14:55:05.874 +05:30 [DBG] Hosting started
2024-09-24 14:55:05.935 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 14:55:05.937 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 14:55:06.164 +05:30 [DBG] Connection ID "18374686502757072933" disconnecting.
2024-09-24 14:55:06.168 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 234.4260ms
2024-09-24 14:55:06.244 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 14:55:06.338 +05:30 [DBG] Connection ID "18374686498462105645" disconnecting.
2024-09-24 14:55:06.339 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.4923ms
2024-09-24 14:55:20.266 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 14:55:20.269 +05:30 [DBG] POST requests are not supported
2024-09-24 14:55:20.316 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:55:20.324 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:55:20.325 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:55:20.882 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:55:20.886 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:55:20.897 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 14:55:20.946 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:55:20.948 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:55:20.948 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:55:20.949 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:55:20.949 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:55:20.949 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:55:20.950 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:55:21.192 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 14:55:21.227 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:55:21.232 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:55:21.235 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 14:55:21.235 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 14:55:21.256 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 14:55:21.257 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:55:21.257 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:55:21.257 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 14:55:21.259 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 14:55:22.115 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:55:22.261 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 14:55:22.507 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 14:55:22.575 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:55:22.632 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (55ms).
2024-09-24 14:55:22.640 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:55:23.154 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:55:23.172 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:55:23.270 +05:30 [INF] Executed DbCommand (105ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 14:55:23.298 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:55:23.345 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:55:23.348 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:55:23.352 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:55:23.377 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:55:23.378 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:55:23.378 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:55:23.378 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:55:23.379 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:55:23.380 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 14:55:23.411 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 2452.725ms
2024-09-24 14:55:23.412 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:55:23.416 +05:30 [DBG] Connection ID "18374686498462105647" disconnecting.
2024-09-24 14:55:23.417 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:55:23.419 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 200 - application/json;+charset=utf-8 3153.4969ms
2024-09-24 14:55:39.279 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:55:39.280 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:55:39.282 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:55:39.283 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:55:39.283 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:55:39.284 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:55:39.291 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2024-09-24 14:55:39.298 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 14:55:39.301 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 401 - - 21.5313ms
2024-09-24 14:55:39.301 +05:30 [DBG] Connection ID "18158513724938256385" disconnecting.
2024-09-24 14:55:44.926 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:55:44.926 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:55:44.926 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:55:44.926 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:55:44.926 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:55:44.928 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:55:44.928 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2024-09-24 14:55:44.928 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 14:55:44.929 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 401 - - 3.8248ms
2024-09-24 14:55:54.299 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:55:54.299 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:55:54.299 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:55:54.299 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:55:54.299 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:55:54.300 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:55:54.300 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|User)
2024-09-24 14:55:54.301 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-24 14:55:54.302 +05:30 [DBG] Connection ID "18230571323271151639" disconnecting.
2024-09-24 14:55:54.302 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 401 - - 3.0952ms
2024-09-24 14:56:34.000 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/api/BookStore - -
2024-09-24 14:56:34.001 +05:30 [DBG] The request path  does not match the path filter
2024-09-24 14:56:34.002 +05:30 [DBG] 1 candidate(s) found for the request path '/api/BookStore'
2024-09-24 14:56:34.002 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)' with route pattern 'api/BookStore' is valid for the request path '/api/BookStore'
2024-09-24 14:56:34.006 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:56:34.051 +05:30 [INF] Successfully validated the token.
2024-09-24 14:56:34.052 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-24 14:56:34.053 +05:30 [INF] Authorization was successful.
2024-09-24 14:56:34.053 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:56:34.062 +05:30 [INF] Route matched with {action = "GetAllBooks", controller = "BookStore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI).
2024-09-24 14:56:34.062 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:56:34.062 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:56:34.062 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:56:34.063 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:56:34.063 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:56:34.063 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:56:34.199 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.BookStoreController (BookStoreAPI)
2024-09-24 14:56:34.240 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 14:56:34.247 +05:30 [DBG] Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Author)
    .Include(b => b.BookSize)'
2024-09-24 14:56:34.271 +05:30 [DBG] Including navigation: 'Book.Author'.
2024-09-24 14:56:34.273 +05:30 [DBG] Including navigation: 'Book.BookSize'.
2024-09-24 14:56:34.314 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT b.Id, b.AuthorId, b.BookSizeId, b.CoverImageUrl, b.Description, b.PublicationDate, b.Title, a.Id, a.Bio, a.Birthdate, a.Name, a.ProfileImageUrl, b0.Id, b0.Size
        FROM Books AS b
        INNER JOIN Authors AS a ON b.AuthorId == a.Id
        INNER JOIN BookSizes AS b0 ON b.BookSizeId == b0.Id), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    BookStoreAPI.Data.BookStoreDbContext, 
    False, 
    False
)'
2024-09-24 14:56:34.315 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 14:56:34.315 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 14:56:34.316 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:56:34.316 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:56:34.317 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:56:34.329 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookSizeId], [b].[CoverImageUrl], [b].[Description], [b].[PublicationDate], [b].[Title], [a].[Id], [a].[Bio], [a].[Birthdate], [a].[Name], [a].[ProfileImageUrl], [b0].[Id], [b0].[Size]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [BookSizes] AS [b0] ON [b].[BookSizeId] = [b0].[Id]
2024-09-24 14:56:34.333 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:56:34.363 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:56:34.392 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:56:34.398 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:56:34.398 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:56:34.398 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:56:34.399 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:56:34.399 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Author' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:56:34.399 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'BookSize' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:56:34.399 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:56:34.400 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 14:56:34.400 +05:30 [DBG] A data reader was disposed.
2024-09-24 14:56:34.400 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:56:34.400 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 14:56:34.422 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 14:56:34.422 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 14:56:34.422 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 14:56:34.422 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 14:56:34.422 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 14:56:34.422 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookStoreAPI.Models.DTO.BookDTO, BookStoreAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-24 14:56:34.433 +05:30 [INF] Executed action BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI) in 370.2292ms
2024-09-24 14:56:34.433 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.BookStoreController.GetAllBooks (BookStoreAPI)'
2024-09-24 14:56:34.434 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 14:56:34.434 +05:30 [DBG] Connection ID "18374686494167138346" disconnecting.
2024-09-24 14:56:34.434 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/api/BookStore - - - 200 - application/json;+charset=utf-8 433.7902ms
2024-09-24 14:59:35.496 +05:30 [INF] Starting up the application...
2024-09-24 14:59:37.829 +05:30 [DBG] Hosting starting
2024-09-24 14:59:37.888 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 14:59:37.908 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 14:59:37.943 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 14:59:37.955 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 14:59:37.964 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:59:37.967 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 14:59:37.971 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 14:59:37.975 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 14:59:37.977 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 14:59:37.979 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 14:59:37.980 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 14:59:38.363 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 14:59:38.364 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 14:59:38.364 +05:30 [INF] Hosting environment: Development
2024-09-24 14:59:38.364 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 14:59:38.364 +05:30 [DBG] Hosting started
2024-09-24 14:59:38.441 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 14:59:38.443 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 14:59:38.686 +05:30 [DBG] Connection ID "18230571323271151641" disconnecting.
2024-09-24 14:59:38.689 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 250.1502ms
2024-09-24 14:59:38.765 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 14:59:38.856 +05:30 [DBG] Connection ID "18302628891539275820" disconnecting.
2024-09-24 14:59:38.856 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 90.7178ms
2024-09-24 14:59:54.819 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 14:59:54.822 +05:30 [DBG] POST requests are not supported
2024-09-24 14:59:54.867 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 14:59:54.873 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 14:59:54.874 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:59:55.342 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 14:59:55.346 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:59:55.353 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 14:59:55.397 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 14:59:55.398 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 14:59:55.399 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 14:59:55.399 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 14:59:55.399 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 14:59:55.399 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 14:59:55.400 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 14:59:55.745 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 14:59:55.807 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 399.2496ms
2024-09-24 14:59:55.809 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 14:59:55.873 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 14:59:56.224 +05:30 [DBG] Connection ID "18374686498462105649" disconnecting.
2024-09-24 14:59:56.227 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 500 - application/json 1408.2187ms
2024-09-24 15:00:01.577 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 15:00:01.577 +05:30 [DBG] POST requests are not supported
2024-09-24 15:00:01.581 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 15:00:01.582 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 15:00:01.582 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:00:01.582 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:00:01.582 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:00:01.582 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:00:01.582 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:00:01.583 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:00:01.583 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:00:01.583 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:00:01.583 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:00:01.583 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:00:01.584 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 1.6221ms
2024-09-24 15:00:01.585 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:00:01.605 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:00:01.607 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 500 - application/json 29.8509ms
2024-09-24 15:00:01.607 +05:30 [DBG] Connection ID "18374686481282236464" disconnecting.
2024-09-24 15:00:59.187 +05:30 [INF] Starting up the application...
2024-09-24 15:01:01.649 +05:30 [DBG] Hosting starting
2024-09-24 15:01:01.697 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:01:01.711 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 15:01:01.738 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 15:01:01.750 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 15:01:01.758 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:01:01.760 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 15:01:01.762 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:01:01.766 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 15:01:01.768 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 15:01:01.771 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 15:01:01.772 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 15:01:02.169 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 15:01:02.170 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:01:02.170 +05:30 [INF] Hosting environment: Development
2024-09-24 15:01:02.170 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 15:01:02.170 +05:30 [DBG] Hosting started
2024-09-24 15:01:02.224 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 15:01:02.226 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 15:01:02.441 +05:30 [DBG] Connection ID "18302628917309079558" disconnecting.
2024-09-24 15:01:02.445 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 223.2015ms
2024-09-24 15:01:02.526 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 15:01:02.621 +05:30 [DBG] Connection ID "18302628895834243079" disconnecting.
2024-09-24 15:01:02.621 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.6485ms
2024-09-24 15:03:04.379 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 15:03:04.382 +05:30 [DBG] POST requests are not supported
2024-09-24 15:03:04.444 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 15:03:04.453 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 15:03:04.454 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:03:04.976 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:03:04.979 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:03:04.993 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 15:03:05.030 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:03:05.032 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:03:05.032 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:03:05.032 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:03:05.032 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:03:05.032 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:03:05.033 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:03:05.311 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 15:03:05.359 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 322.6088ms
2024-09-24 15:03:05.360 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:03:05.421 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:03:05.743 +05:30 [DBG] Connection ID "18302628895834243081" disconnecting.
2024-09-24 15:03:05.745 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 500 - application/json 1365.3189ms
2024-09-24 15:04:11.052 +05:30 [INF] Starting up the application...
2024-09-24 15:04:13.438 +05:30 [DBG] Hosting starting
2024-09-24 15:04:13.496 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:04:13.512 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 15:04:13.544 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 15:04:13.553 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 15:04:13.564 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:04:13.566 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 15:04:13.568 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:04:13.571 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 15:04:13.573 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 15:04:13.576 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 15:04:13.576 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 15:04:13.979 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 15:04:13.980 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:04:13.980 +05:30 [INF] Hosting environment: Development
2024-09-24 15:04:13.980 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 15:04:13.980 +05:30 [DBG] Hosting started
2024-09-24 15:04:14.043 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 15:04:14.046 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 15:04:14.242 +05:30 [DBG] Connection ID "18374686502757072936" disconnecting.
2024-09-24 15:04:14.244 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 204.3129ms
2024-09-24 15:04:14.337 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 15:04:14.431 +05:30 [DBG] Connection ID "18374686494167138348" disconnecting.
2024-09-24 15:04:14.432 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.6151ms
2024-09-24 15:04:32.618 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 15:04:32.621 +05:30 [DBG] POST requests are not supported
2024-09-24 15:04:32.659 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 15:04:32.665 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 15:04:32.667 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:04:33.102 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:04:33.104 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:04:33.111 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 15:04:33.174 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:04:33.174 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:04:33.175 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:04:33.175 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:04:33.175 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:04:33.175 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:04:33.177 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:04:33.389 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 15:04:33.430 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:04:33.438 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:04:33.440 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 15:04:33.441 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:04:33.473 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 15:04:33.474 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:04:33.474 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:04:33.474 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:04:33.478 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:04:34.413 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:04:34.558 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 15:04:34.761 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 15:04:34.832 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:04:34.907 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (66ms).
2024-09-24 15:04:34.925 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:04:35.412 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:04:35.428 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:04:35.489 +05:30 [INF] Executed DbCommand (67ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:04:35.514 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:04:35.551 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:04:35.555 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:04:35.562 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:04:35.604 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 15:04:35.606 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 15:04:35.607 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 15:04:35.607 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 15:04:35.608 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 15:04:35.608 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:04:35.634 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 2450.4914ms
2024-09-24 15:04:35.635 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:04:35.639 +05:30 [DBG] Connection ID "18374686511347007495" disconnecting.
2024-09-24 15:04:35.640 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:04:35.642 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 200 - application/json;+charset=utf-8 3024.0163ms
2024-09-24 15:14:56.138 +05:30 [INF] Starting up the application...
2024-09-24 15:14:58.653 +05:30 [DBG] Hosting starting
2024-09-24 15:14:58.723 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:14:58.742 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 15:14:58.779 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 15:14:58.789 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 15:14:58.799 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:14:58.802 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 15:14:58.804 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:14:58.808 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 15:14:58.811 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 15:14:58.816 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 15:14:58.817 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 15:14:59.189 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 15:14:59.190 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:14:59.191 +05:30 [INF] Hosting environment: Development
2024-09-24 15:14:59.191 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 15:14:59.191 +05:30 [DBG] Hosting started
2024-09-24 15:14:59.269 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 15:14:59.271 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 15:14:59.507 +05:30 [DBG] Connection ID "18230571318976184324" disconnecting.
2024-09-24 15:14:59.511 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 243.0205ms
2024-09-24 15:14:59.587 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 15:14:59.674 +05:30 [DBG] Connection ID "18302628891539275822" disconnecting.
2024-09-24 15:14:59.675 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.4567ms
2024-09-24 15:15:15.392 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 15:15:15.394 +05:30 [DBG] POST requests are not supported
2024-09-24 15:15:15.448 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 15:15:15.457 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 15:15:15.458 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:15:15.872 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:15:15.875 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:15:15.883 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 15:15:15.922 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:15:15.923 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:15:15.923 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:15:15.923 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:15:15.923 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:15:15.923 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:15:15.924 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:15:16.184 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 15:15:16.232 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:15:16.241 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:15:16.244 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 15:15:16.245 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:15:16.266 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 15:15:16.266 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:15:16.266 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:15:16.266 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:15:16.271 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:15:17.155 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:15:17.322 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 15:15:17.558 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 15:15:17.625 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:15:17.677 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (49ms).
2024-09-24 15:15:17.686 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:15:18.158 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:15:18.172 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:15:18.262 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:15:18.298 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:15:18.352 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:15:18.358 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:15:18.366 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:15:18.446 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 2514.666ms
2024-09-24 15:15:18.447 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:15:18.535 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.LoginAsync(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:15:18.833 +05:30 [DBG] Connection ID "18374686481282236467" disconnecting.
2024-09-24 15:15:18.835 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:15:18.837 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 500 - application/json 3445.3637ms
2024-09-24 15:15:27.314 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 15:15:27.314 +05:30 [DBG] POST requests are not supported
2024-09-24 15:15:27.315 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 15:15:27.315 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 15:15:27.316 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:15:27.316 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:15:27.316 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:15:27.316 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:15:27.317 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:15:27.317 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:15:27.317 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:15:27.317 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:15:27.317 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:15:27.317 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:15:27.317 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:15:27.318 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:15:27.318 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 15:15:27.318 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:15:27.319 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 15:15:27.319 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:15:27.319 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:15:27.319 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:15:27.319 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:15:27.357 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:15:27.362 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:15:27.362 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 15:15:27.363 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:15:27.364 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:15:27.364 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:15:27.373 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:15:27.373 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:15:27.374 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:15:27.374 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:15:27.374 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:15:27.413 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 95.9585ms
2024-09-24 15:15:27.413 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:15:27.491 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.LoginAsync(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:15:27.494 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:15:27.494 +05:30 [DBG] Connection ID "18302628891539275824" disconnecting.
2024-09-24 15:15:27.494 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 500 - application/json 180.2938ms
2024-09-24 15:16:36.890 +05:30 [INF] Starting up the application...
2024-09-24 15:16:39.279 +05:30 [DBG] Hosting starting
2024-09-24 15:16:39.341 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:16:39.361 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 15:16:39.402 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 15:16:39.412 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 15:16:39.424 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:16:39.427 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 15:16:39.430 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:16:39.436 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 15:16:39.439 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 15:16:39.442 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 15:16:39.443 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 15:16:39.840 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 15:16:39.841 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:16:39.841 +05:30 [INF] Hosting environment: Development
2024-09-24 15:16:39.841 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 15:16:39.841 +05:30 [DBG] Hosting started
2024-09-24 15:16:39.893 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 15:16:39.896 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 15:16:40.149 +05:30 [DBG] Connection ID "18302628908719144976" disconnecting.
2024-09-24 15:16:40.154 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 262.9060ms
2024-09-24 15:16:40.230 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 15:16:40.337 +05:30 [DBG] Connection ID "18374686498462105652" disconnecting.
2024-09-24 15:16:40.337 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 107.5813ms
2024-09-24 15:16:57.913 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 15:16:57.916 +05:30 [DBG] POST requests are not supported
2024-09-24 15:16:57.980 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 15:16:57.986 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 15:16:57.987 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:16:58.487 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:16:58.491 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:16:58.501 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 15:16:58.542 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:16:58.544 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:16:58.544 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:16:58.545 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:16:58.545 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:16:58.545 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:16:58.546 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:16:58.769 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 15:16:58.794 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:16:58.799 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:16:58.801 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 15:16:58.801 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:16:58.832 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 15:16:58.832 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:16:58.833 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:16:58.833 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:16:58.838 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:16:59.734 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:16:59.878 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 15:17:00.064 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 15:17:00.118 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:17:00.183 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (56ms).
2024-09-24 15:17:00.198 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:17:00.669 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:17:00.686 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:17:00.742 +05:30 [INF] Executed DbCommand (66ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:17:00.774 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:17:00.821 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:17:00.825 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:17:00.831 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:17:00.894 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 2343.0194ms
2024-09-24 15:17:00.895 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:17:00.959 +05:30 [ERR] An unexpected error occurred.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BookStoreAPI.Controllers.AuthController.LoginAsync(LoginDTO loginDTO) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:17:01.215 +05:30 [DBG] Connection ID "18230571297501347841" disconnecting.
2024-09-24 15:17:01.216 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:17:01.220 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 500 - application/json 3307.3815ms
2024-09-24 15:18:45.913 +05:30 [INF] Starting up the application...
2024-09-24 15:18:46.892 +05:30 [DBG] Hosting starting
2024-09-24 15:18:46.946 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:18:46.961 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 15:18:46.987 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 15:18:46.997 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 15:18:47.005 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:18:47.007 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 15:18:47.009 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:18:47.013 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 15:18:47.015 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 15:18:47.018 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 15:18:47.018 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 15:18:47.240 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 15:18:47.240 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:18:47.240 +05:30 [INF] Hosting environment: Development
2024-09-24 15:18:47.240 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 15:18:47.241 +05:30 [DBG] Hosting started
2024-09-24 15:18:47.290 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 15:18:47.292 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 15:18:47.466 +05:30 [DBG] Connection ID "18374686502757072940" disconnecting.
2024-09-24 15:18:47.470 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 182.0397ms
2024-09-24 15:18:47.559 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 15:18:47.657 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 98.0580ms
2024-09-24 15:18:47.658 +05:30 [DBG] Connection ID "18230571318976184326" disconnecting.
2024-09-24 15:19:04.106 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 15:19:04.110 +05:30 [DBG] POST requests are not supported
2024-09-24 15:19:04.152 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 15:19:04.160 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 15:19:04.161 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:19:04.374 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:19:04.378 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:19:04.391 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 15:19:04.439 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:19:04.440 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:19:04.440 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:19:04.440 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:19:04.441 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:19:04.441 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:19:04.441 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:19:04.632 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 15:19:04.663 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:19:04.676 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:19:04.681 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 15:19:04.683 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:19:04.720 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 15:19:04.720 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:19:04.720 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:19:04.720 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:19:04.723 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:19:05.514 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:19:05.609 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 15:19:05.847 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 15:19:05.930 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:19:06.006 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (74ms).
2024-09-24 15:19:06.021 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:19:06.387 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:19:06.405 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:19:06.504 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:19:06.535 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:19:06.558 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:19:06.561 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:19:06.566 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:19:06.595 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 15:19:06.597 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 15:19:06.597 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 15:19:06.597 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 15:19:06.598 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 15:19:06.599 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:19:06.633 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 2185.9291ms
2024-09-24 15:19:06.634 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:19:06.637 +05:30 [DBG] Connection ID "18230571306091282433" disconnecting.
2024-09-24 15:19:06.638 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:19:06.640 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 200 - application/json;+charset=utf-8 2534.2800ms
2024-09-24 15:28:46.486 +05:30 [INF] Starting up the application...
2024-09-24 15:28:47.473 +05:30 [DBG] Hosting starting
2024-09-24 15:28:47.549 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:28:47.568 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 15:28:47.611 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 15:28:47.627 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 15:28:47.640 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:28:47.643 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 15:28:47.645 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:28:47.650 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 15:28:47.653 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 15:28:47.656 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 15:28:47.656 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 15:28:47.862 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 15:28:47.863 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:28:47.863 +05:30 [INF] Hosting environment: Development
2024-09-24 15:28:47.863 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 15:28:47.863 +05:30 [DBG] Hosting started
2024-09-24 15:28:47.912 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 15:28:47.913 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 15:28:48.094 +05:30 [DBG] Connection ID "18374686502757072942" disconnecting.
2024-09-24 15:28:48.098 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 188.6178ms
2024-09-24 15:28:48.174 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 15:28:48.267 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 92.9404ms
2024-09-24 15:28:48.267 +05:30 [DBG] Connection ID "18374686481282236469" disconnecting.
2024-09-24 15:31:00.528 +05:30 [INF] Starting up the application...
2024-09-24 15:31:01.386 +05:30 [DBG] Hosting starting
2024-09-24 15:31:01.439 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:31:01.452 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 15:31:01.474 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 15:31:01.484 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 15:31:01.495 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:31:01.499 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 15:31:01.501 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:31:01.504 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 15:31:01.506 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 15:31:01.509 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 15:31:01.509 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 15:31:01.740 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 15:31:01.741 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:31:01.741 +05:30 [INF] Hosting environment: Development
2024-09-24 15:31:01.741 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 15:31:01.741 +05:30 [DBG] Hosting started
2024-09-24 15:31:01.786 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 15:31:01.788 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 15:31:01.963 +05:30 [DBG] Connection ID "18374686498462105654" disconnecting.
2024-09-24 15:31:01.968 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 182.8508ms
2024-09-24 15:31:02.041 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 15:31:02.138 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 96.7872ms
2024-09-24 15:31:02.138 +05:30 [DBG] Connection ID "18230571306091282435" disconnecting.
2024-09-24 15:31:21.049 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 15:31:21.051 +05:30 [DBG] POST requests are not supported
2024-09-24 15:31:21.096 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 15:31:21.107 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 15:31:21.109 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:31:21.264 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:31:21.267 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:31:21.274 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 15:31:21.329 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:31:21.330 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:31:21.331 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:31:21.331 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:31:21.331 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:31:21.331 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:31:21.333 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:31:21.501 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 15:31:21.524 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:31:21.532 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:31:21.534 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 15:31:21.536 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:31:21.572 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 15:31:21.572 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:31:21.572 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:31:21.572 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:31:21.575 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:31:22.603 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:31:22.710 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 15:31:22.948 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 15:31:23.031 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:31:23.103 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (68ms).
2024-09-24 15:31:23.114 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:31:23.502 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:31:23.525 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:31:23.598 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:31:23.632 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:31:23.668 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:31:23.675 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:31:23.685 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:31:23.738 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 15:31:23.741 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 15:31:23.741 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 15:31:23.741 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 15:31:23.743 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 15:31:23.744 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:31:23.773 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 2436.5149ms
2024-09-24 15:31:23.774 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:31:23.777 +05:30 [DBG] Connection ID "18374686481282236471" disconnecting.
2024-09-24 15:31:23.778 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:31:23.779 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 200 - application/json;+charset=utf-8 2730.2161ms
2024-09-24 15:37:31.368 +05:30 [INF] Starting up the application...
2024-09-24 15:37:32.267 +05:30 [DBG] Hosting starting
2024-09-24 15:37:32.328 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:37:32.345 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 15:37:32.375 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 15:37:32.388 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 15:37:32.398 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:37:32.401 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 15:37:32.403 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:37:32.406 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 15:37:32.409 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 15:37:32.412 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 15:37:32.413 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 15:37:32.669 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 15:37:32.670 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:37:32.670 +05:30 [INF] Hosting environment: Development
2024-09-24 15:37:32.670 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 15:37:32.670 +05:30 [DBG] Hosting started
2024-09-24 15:37:32.746 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 15:37:32.751 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 15:37:32.921 +05:30 [DBG] Connection ID "18374686507052040220" disconnecting.
2024-09-24 15:37:32.924 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 181.6912ms
2024-09-24 15:37:33.006 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 15:37:33.102 +05:30 [DBG] Connection ID "18374686489872171039" disconnecting.
2024-09-24 15:37:33.102 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 96.2694ms
2024-09-24 15:37:51.552 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:37:51.554 +05:30 [DBG] POST requests are not supported
2024-09-24 15:37:51.584 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:37:51.588 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:37:51.589 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:37:51.778 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:37:51.783 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:37:51.797 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 15:37:51.852 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:37:51.855 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:37:51.856 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:37:51.856 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:37:51.857 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:37:51.857 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:37:51.859 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:37:52.063 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 15:37:52.111 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 249.7071ms
2024-09-24 15:37:52.113 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:37:52.149 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:37:52.442 +05:30 [DBG] Connection ID "18374686481282236473" disconnecting.
2024-09-24 15:37:52.443 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 891.2037ms
2024-09-24 15:37:58.579 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:37:58.579 +05:30 [DBG] POST requests are not supported
2024-09-24 15:37:58.581 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:37:58.581 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:37:58.581 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:37:58.581 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:37:58.581 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:37:58.582 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:37:58.582 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:37:58.582 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:37:58.582 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:37:58.582 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:37:58.583 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:37:58.583 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:37:58.584 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 1.3796ms
2024-09-24 15:37:58.584 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:37:58.606 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:37:58.608 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 29.3725ms
2024-09-24 15:37:58.608 +05:30 [DBG] Connection ID "18374686498462105656" disconnecting.
2024-09-24 15:38:00.566 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:38:00.566 +05:30 [DBG] POST requests are not supported
2024-09-24 15:38:00.566 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:38:00.566 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:38:00.566 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:00.569 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:38:00.569 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:00.570 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:38:00.570 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:38:00.570 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:38:00.570 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:38:00.570 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:38:00.570 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:38:00.570 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:38:00.573 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 3.0106ms
2024-09-24 15:38:00.573 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:00.601 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:38:00.603 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 36.9782ms
2024-09-24 15:38:00.603 +05:30 [DBG] Connection ID "18374686507052040222" disconnecting.
2024-09-24 15:38:01.516 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:38:01.516 +05:30 [DBG] POST requests are not supported
2024-09-24 15:38:01.516 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:38:01.516 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:38:01.516 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:01.516 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:38:01.517 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:01.517 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:38:01.517 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:38:01.517 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:38:01.517 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:38:01.517 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:38:01.517 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:38:01.517 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:38:01.518 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 0.8767ms
2024-09-24 15:38:01.518 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:01.541 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:38:01.543 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 26.4686ms
2024-09-24 15:38:01.543 +05:30 [DBG] Connection ID "18374686507052040224" disconnecting.
2024-09-24 15:38:02.392 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:38:02.392 +05:30 [DBG] POST requests are not supported
2024-09-24 15:38:02.392 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:38:02.392 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:38:02.392 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:02.392 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:38:02.392 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:02.392 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:38:02.392 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:38:02.392 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:38:02.392 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:38:02.392 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:38:02.392 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:38:02.392 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:38:02.393 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 0.9058ms
2024-09-24 15:38:02.394 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:02.415 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:38:02.417 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 25.7991ms
2024-09-24 15:38:02.417 +05:30 [DBG] Connection ID "18230571323271151645" disconnecting.
2024-09-24 15:38:03.700 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:38:03.701 +05:30 [DBG] POST requests are not supported
2024-09-24 15:38:03.701 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:38:03.701 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:38:03.701 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:03.701 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:38:03.701 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:03.701 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:38:03.701 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:38:03.701 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:38:03.701 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:38:03.701 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:38:03.701 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:38:03.701 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:38:03.704 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 2.5689ms
2024-09-24 15:38:03.704 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:38:03.724 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'BookStoreAPI.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:38:03.725 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 24.5774ms
2024-09-24 15:38:03.725 +05:30 [DBG] Connection ID "18374686498462105658" disconnecting.
2024-09-24 15:42:34.638 +05:30 [INF] Starting up the application...
2024-09-24 15:42:35.888 +05:30 [DBG] Hosting starting
2024-09-24 15:42:35.959 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:42:35.984 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 15:42:36.019 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 15:42:36.028 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 15:42:36.036 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:42:36.040 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 15:42:36.041 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:42:36.045 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 15:42:36.048 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 15:42:36.052 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 15:42:36.053 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 15:42:36.287 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 15:42:36.287 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:42:36.287 +05:30 [INF] Hosting environment: Development
2024-09-24 15:42:36.287 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 15:42:36.287 +05:30 [DBG] Hosting started
2024-09-24 15:42:36.354 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 15:42:36.355 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 15:42:36.533 +05:30 [DBG] Connection ID "18374686498462105660" disconnecting.
2024-09-24 15:42:36.536 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 187.2694ms
2024-09-24 15:42:36.616 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 15:42:36.709 +05:30 [DBG] Connection ID "18374686498462105662" disconnecting.
2024-09-24 15:42:36.709 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 93.7788ms
2024-09-24 15:42:56.100 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:42:56.105 +05:30 [DBG] POST requests are not supported
2024-09-24 15:42:56.145 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:42:56.152 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:42:56.153 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:42:56.330 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:42:56.334 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:42:56.350 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 15:42:56.434 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:42:56.435 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:42:56.436 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:42:56.436 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:42:56.436 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:42:56.436 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:42:56.438 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:42:56.619 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 15:42:56.660 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:42:56.668 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:42:56.672 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 15:42:56.674 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:42:56.717 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 15:42:56.718 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:42:56.718 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:42:56.718 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:42:56.728 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:42:57.769 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:42:57.866 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __registerDTO_Username_0)'
2024-09-24 15:42:58.030 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__registerDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 15:42:58.091 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:42:58.169 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (69ms).
2024-09-24 15:42:58.182 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:42:58.537 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:42:58.552 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:42:58.627 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:42:58.649 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:42:58.653 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:42:58.659 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:42:58.955 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:42:58.957 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 15:42:58.960 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 15:42:58.968 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 15:42:58.984 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:42:58.985 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:42:58.986 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 15:42:58.997 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 15:42:59.070 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:42:59.070 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 15:42:59.072 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 15:42:59.075 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 15:42:59.081 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:42:59.086 +05:30 [DBG] Committing transaction.
2024-09-24 15:42:59.103 +05:30 [DBG] Committed transaction.
2024-09-24 15:42:59.106 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:42:59.107 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:42:59.108 +05:30 [DBG] Disposing transaction.
2024-09-24 15:42:59.118 +05:30 [DBG] An entity of type 'User' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:42:59.119 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 15:42:59.120 +05:30 [INF] User registered successfully: string5
2024-09-24 15:42:59.124 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 15:42:59.125 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 15:42:59.126 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 15:42:59.126 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 15:42:59.126 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 15:42:59.126 +05:30 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:42:59.140 +05:30 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-24 15:42:59.148 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 2705.5273ms
2024-09-24 15:42:59.149 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:42:59.235 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:42:59.497 +05:30 [DBG] Connection ID "18374686481282236475" disconnecting.
2024-09-24 15:42:59.499 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:42:59.501 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 3401.0501ms
2024-09-24 15:44:12.727 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:44:12.727 +05:30 [DBG] POST requests are not supported
2024-09-24 15:44:12.737 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:44:12.737 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:44:12.737 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:12.739 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:44:12.745 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:12.756 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:44:12.756 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:44:12.756 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:44:12.756 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:44:12.756 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:44:12.757 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:44:12.757 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:44:12.761 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:44:12.762 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:44:12.762 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 15:44:12.762 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:44:12.763 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 15:44:12.763 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:12.763 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:12.763 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:44:12.763 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:12.812 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:44:12.817 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:44:12.817 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 15:44:12.817 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:12.818 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:12.818 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:44:12.822 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:44:12.834 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:44:12.836 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:44:12.836 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:12.836 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:12.837 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 15:44:12.837 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 15:44:12.837 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 15:44:12.837 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 15:44:12.837 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 15:44:12.837 +05:30 [INF] Executing ConflictObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:44:12.852 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 95.3736ms
2024-09-24 15:44:12.852 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:12.853 +05:30 [DBG] Connection ID "18302628913014112274" disconnecting.
2024-09-24 15:44:12.853 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:44:12.853 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 409 - application/json;+charset=utf-8 125.7799ms
2024-09-24 15:44:31.868 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:44:31.868 +05:30 [DBG] POST requests are not supported
2024-09-24 15:44:31.868 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:44:31.868 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:44:31.868 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:31.870 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:44:31.870 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:31.871 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:44:31.871 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:44:31.871 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:44:31.871 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:44:31.871 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:44:31.871 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:44:31.871 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:44:31.873 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:44:31.873 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:44:31.873 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 15:44:31.873 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:44:31.873 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 15:44:31.873 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:31.873 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:31.873 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:44:31.874 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:31.884 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:44:31.885 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:44:31.885 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 15:44:31.885 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:31.886 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:31.886 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:44:31.889 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:44:31.890 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:44:31.890 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:31.890 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:32.136 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:44:32.136 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 15:44:32.137 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 15:44:32.137 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 15:44:32.137 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:32.137 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:32.137 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 15:44:32.138 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 15:44:32.139 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:44:32.139 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 15:44:32.139 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 15:44:32.141 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 15:44:32.141 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:44:32.141 +05:30 [DBG] Committing transaction.
2024-09-24 15:44:32.153 +05:30 [DBG] Committed transaction.
2024-09-24 15:44:32.153 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:32.153 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:32.153 +05:30 [DBG] Disposing transaction.
2024-09-24 15:44:32.154 +05:30 [DBG] An entity of type 'User' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:44:32.154 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 15:44:32.154 +05:30 [INF] User registered successfully: string6
2024-09-24 15:44:32.154 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 15:44:32.155 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 15:44:32.155 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 15:44:32.155 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 15:44:32.155 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 15:44:32.155 +05:30 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:44:32.155 +05:30 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-24 15:44:32.157 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 285.4311ms
2024-09-24 15:44:32.157 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:32.212 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:44:32.213 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:44:32.213 +05:30 [DBG] Connection ID "18374686498462105664" disconnecting.
2024-09-24 15:44:32.213 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 346.0633ms
2024-09-24 15:44:35.674 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:44:35.675 +05:30 [DBG] POST requests are not supported
2024-09-24 15:44:35.675 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:44:35.675 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:44:35.675 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:35.675 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:44:35.675 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:35.675 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:44:35.675 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:44:35.675 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:44:35.675 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:44:35.675 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:44:35.675 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:44:35.676 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:44:35.676 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:44:35.676 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:44:35.676 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 15:44:35.676 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:44:35.676 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 15:44:35.676 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:35.676 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:35.676 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:44:35.676 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:35.677 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:44:35.677 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:44:35.677 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 15:44:35.677 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:35.677 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:35.677 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:44:35.680 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:44:35.681 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:44:35.681 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:44:35.681 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:35.681 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:35.682 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 15:44:35.682 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 15:44:35.682 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 15:44:35.682 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 15:44:35.682 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 15:44:35.682 +05:30 [INF] Executing ConflictObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:44:35.682 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 6.601ms
2024-09-24 15:44:35.682 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:35.682 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:44:35.682 +05:30 [DBG] Connection ID "18230571323271151647" disconnecting.
2024-09-24 15:44:35.683 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 409 - application/json;+charset=utf-8 8.5629ms
2024-09-24 15:44:50.264 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:44:50.264 +05:30 [DBG] POST requests are not supported
2024-09-24 15:44:50.264 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:44:50.264 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:44:50.264 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:50.264 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:44:50.264 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:50.265 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:44:50.265 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:44:50.265 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:44:50.265 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:44:50.265 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:44:50.265 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:44:50.265 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:44:50.265 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:44:50.265 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:44:50.265 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 15:44:50.265 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:44:50.266 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 15:44:50.266 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:50.266 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:50.266 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:44:50.266 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:44:50.266 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:44:50.266 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:44:50.266 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 15:44:50.267 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:50.267 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:50.267 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:44:50.270 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:44:50.275 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:44:50.276 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:50.276 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:50.551 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:44:50.552 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 15:44:50.552 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 15:44:50.552 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 15:44:50.552 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:50.552 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:50.552 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 15:44:50.553 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 15:44:50.554 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:44:50.554 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 15:44:50.554 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 15:44:50.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 15:44:50.556 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:44:50.556 +05:30 [DBG] Committing transaction.
2024-09-24 15:44:50.567 +05:30 [DBG] Committed transaction.
2024-09-24 15:44:50.567 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:50.567 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:44:50.568 +05:30 [DBG] Disposing transaction.
2024-09-24 15:44:50.568 +05:30 [DBG] An entity of type 'User' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:44:50.568 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 15:44:50.568 +05:30 [INF] User registered successfully: string7
2024-09-24 15:44:50.568 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 15:44:50.568 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 15:44:50.568 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 15:44:50.568 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 15:44:50.568 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 15:44:50.568 +05:30 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:44:50.569 +05:30 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-24 15:44:50.570 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 304.7342ms
2024-09-24 15:44:50.570 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:44:50.628 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:44:50.629 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:44:50.629 +05:30 [DBG] Connection ID "18302628900129210372" disconnecting.
2024-09-24 15:44:50.629 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 366.1064ms
2024-09-24 15:45:14.686 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:45:14.686 +05:30 [DBG] POST requests are not supported
2024-09-24 15:45:14.687 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:45:14.687 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:45:14.690 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:45:14.691 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:45:14.691 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:45:14.691 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:45:14.691 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:45:14.691 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:45:14.691 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:45:14.691 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:45:14.691 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:45:14.691 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:45:14.692 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:45:14.692 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:45:14.692 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 15:45:14.692 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:45:14.692 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 15:45:14.692 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:45:14.692 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:45:14.692 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:45:14.693 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:45:14.694 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:45:14.694 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:45:14.695 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 15:45:14.695 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:45:14.695 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:45:14.695 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:45:14.705 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:45:14.705 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:45:14.705 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:45:14.705 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:45:14.706 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:45:14.706 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 15:45:14.706 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 15:45:14.706 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 15:45:14.706 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 15:45:14.706 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 15:45:14.706 +05:30 [INF] Executing ConflictObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:45:14.706 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 14.9743ms
2024-09-24 15:45:14.706 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:45:14.708 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:45:14.711 +05:30 [DBG] Connection ID "18374686498462105666" disconnecting.
2024-09-24 15:45:14.711 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 409 - application/json;+charset=utf-8 22.4464ms
2024-09-24 15:49:46.704 +05:30 [INF] Starting up the application...
2024-09-24 15:49:49.159 +05:30 [DBG] Hosting starting
2024-09-24 15:49:49.213 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:49:49.224 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 15:49:49.254 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 15:49:49.266 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 15:49:49.273 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:49:49.275 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 15:49:49.277 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:49:49.281 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 15:49:49.283 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 15:49:49.285 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 15:49:49.285 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 15:49:49.637 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 15:49:49.637 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:49:49.637 +05:30 [INF] Hosting environment: Development
2024-09-24 15:49:49.637 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 15:49:49.637 +05:30 [DBG] Hosting started
2024-09-24 15:49:49.680 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 15:49:49.682 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 15:49:49.904 +05:30 [DBG] Connection ID "18374686498462105668" disconnecting.
2024-09-24 15:49:49.908 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 229.9950ms
2024-09-24 15:49:49.988 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 15:49:50.092 +05:30 [DBG] Connection ID "18374686481282236477" disconnecting.
2024-09-24 15:49:50.093 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 104.1348ms
2024-09-24 15:50:18.133 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57
2024-09-24 15:50:18.138 +05:30 [DBG] POST requests are not supported
2024-09-24 15:50:18.205 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-09-24 15:50:18.213 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-09-24 15:50:18.214 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:50:18.746 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:50:18.749 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:50:18.763 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 15:50:18.817 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(BookStoreAPI.Models.DTO.RegisterDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:50:18.818 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:50:18.818 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:50:18.818 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:50:18.818 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:50:18.819 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:50:18.821 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:50:19.093 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 15:50:19.146 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:50:19.155 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:50:19.158 +05:30 [DBG] Attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' using the name '' in request data ...
2024-09-24 15:50:19.159 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:50:19.203 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.RegisterDTO'
2024-09-24 15:50:19.204 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:50:19.205 +05:30 [DBG] Done attempting to bind parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:50:19.205 +05:30 [DBG] Attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO' ...
2024-09-24 15:50:19.210 +05:30 [DBG] Done attempting to validate the bound parameter 'registerDTO' of type 'BookStoreAPI.Models.DTO.RegisterDTO'.
2024-09-24 15:50:20.336 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:50:20.440 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __registerDTO_Username_0)'
2024-09-24 15:50:20.600 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__registerDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 15:50:20.644 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:50:20.687 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2024-09-24 15:50:20.695 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:50:21.113 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:50:21.127 +05:30 [DBG] Executing DbCommand [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:50:21.177 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__registerDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__registerDTO_Username_0
2024-09-24 15:50:21.190 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:50:21.193 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:50:21.197 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:50:21.448 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:50:21.451 +05:30 [DBG] SaveChanges starting for 'BookStoreDbContext'.
2024-09-24 15:50:21.453 +05:30 [DBG] DetectChanges starting for 'BookStoreDbContext'.
2024-09-24 15:50:21.459 +05:30 [DBG] DetectChanges completed for 'BookStoreDbContext'.
2024-09-24 15:50:21.473 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:50:21.474 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:50:21.475 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-24 15:50:21.485 +05:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-24 15:50:21.535 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:50:21.535 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-24 15:50:21.537 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 15:50:21.543 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Role], [Username])
VALUES (@p0, @p1, @p2, @p3);
2024-09-24 15:50:21.551 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:50:21.556 +05:30 [DBG] Committing transaction.
2024-09-24 15:50:21.571 +05:30 [DBG] Committed transaction.
2024-09-24 15:50:21.574 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:50:21.574 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:50:21.577 +05:30 [DBG] Disposing transaction.
2024-09-24 15:50:21.588 +05:30 [DBG] An entity of type 'User' tracked by 'BookStoreDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:50:21.590 +05:30 [DBG] SaveChanges completed for 'BookStoreDbContext' with 1 entities written to the database.
2024-09-24 15:50:21.591 +05:30 [INF] User registered successfully: string8
2024-09-24 15:50:21.598 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 15:50:21.600 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 15:50:21.600 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 15:50:21.600 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 15:50:21.601 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 15:50:21.601 +05:30 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:50:21.621 +05:30 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-24 15:50:21.628 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI) in 2803.9999ms
2024-09-24 15:50:21.629 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.RegisterAsync (BookStoreAPI)'
2024-09-24 15:50:21.697 +05:30 [ERR] An unexpected error occurred.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at BookStoreAPI.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI\Middleware\ExceptionHandlingMiddleware.cs:line 26
2024-09-24 15:50:21.977 +05:30 [DBG] Connection ID "18374686498462105670" disconnecting.
2024-09-24 15:50:21.978 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:50:21.980 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/register application/json 57 - 500 - application/json 3846.3709ms
2024-09-24 15:53:22.230 +05:30 [INF] Starting up the application...
2024-09-24 15:53:23.083 +05:30 [DBG] Hosting starting
2024-09-24 15:53:23.136 +05:30 [INF] User profile is available. Using 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-24 15:53:23.155 +05:30 [DBG] Reading data from file 'C:\Users\kavitha_ippala\AppData\Local\ASP.NET\DataProtection-Keys\key-8c0d56e6-de24-4f0e-816f-6e9f88ea509c.xml'.
2024-09-24 15:53:23.185 +05:30 [DBG] Found key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c}.
2024-09-24 15:53:23.195 +05:30 [DBG] Considering key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} with expiration date 2024-12-01 09:06:49Z as default key.
2024-09-24 15:53:23.202 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:53:23.204 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-24 15:53:23.206 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-24 15:53:23.211 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-24 15:53:23.214 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-24 15:53:23.217 +05:30 [DBG] Using key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} as the default key.
2024-09-24 15:53:23.218 +05:30 [DBG] Key ring with default key {8c0d56e6-de24-4f0e-816f-6e9f88ea509c} was loaded during application startup.
2024-09-24 15:53:23.456 +05:30 [DBG] Loaded hosting startup assembly BookStoreAPI
2024-09-24 15:53:23.457 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-09-24 15:53:23.457 +05:30 [INF] Hosting environment: Development
2024-09-24 15:53:23.457 +05:30 [INF] Content root path: C:\DotNETProjects_Unofficial\BookStoreAPI\BookStoreAPI
2024-09-24 15:53:23.457 +05:30 [DBG] Hosting started
2024-09-24 15:53:23.524 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/index.html - -
2024-09-24 15:53:23.526 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-24 15:53:23.720 +05:30 [DBG] Connection ID "18374686502757072944" disconnecting.
2024-09-24 15:53:23.723 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/index.html - - - 200 - text/html;charset=utf-8 205.0412ms
2024-09-24 15:53:23.809 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - -
2024-09-24 15:53:23.896 +05:30 [DBG] Connection ID "18374686507052040228" disconnecting.
2024-09-24 15:53:23.897 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44310/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.4195ms
2024-09-24 15:53:47.492 +05:30 [INF] Request starting HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43
2024-09-24 15:53:47.494 +05:30 [DBG] POST requests are not supported
2024-09-24 15:53:47.529 +05:30 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-24 15:53:47.533 +05:30 [DBG] Endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-24 15:53:47.533 +05:30 [DBG] Request matched endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:53:47.676 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-24 15:53:47.683 +05:30 [INF] Executing endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:53:47.701 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-24 15:53:47.748 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BookStoreAPI.Models.DTO.LoginDTO) on controller BookStoreAPI.Controllers.AuthController (BookStoreAPI).
2024-09-24 15:53:47.750 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-24 15:53:47.750 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-24 15:53:47.750 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-24 15:53:47.750 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-24 15:53:47.751 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-24 15:53:47.751 +05:30 [DBG] Executing controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:53:47.931 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-24 15:53:47.980 +05:30 [DBG] Executed controller factory for controller BookStoreAPI.Controllers.AuthController (BookStoreAPI)
2024-09-24 15:53:47.990 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:53:47.994 +05:30 [DBG] Attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' using the name '' in request data ...
2024-09-24 15:53:47.996 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-24 15:53:48.027 +05:30 [DBG] JSON input formatter succeeded, deserializing to type 'BookStoreAPI.Models.DTO.LoginDTO'
2024-09-24 15:53:48.027 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:53:48.028 +05:30 [DBG] Done attempting to bind parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:53:48.028 +05:30 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO' ...
2024-09-24 15:53:48.034 +05:30 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'BookStoreAPI.Models.DTO.LoginDTO'.
2024-09-24 15:53:48.964 +05:30 [INF] Entity Framework Core 5.0.17 initialized 'BookStoreDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2024-09-24 15:53:49.036 +05:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __loginDTO_Username_0)'
2024-09-24 15:53:49.251 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.PasswordHash (string), 1], [Property: User.Role (string), 2], [Property: User.Username (string), 3], }
            SELECT TOP(2) u.Id, u.PasswordHash, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__loginDTO_Username_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BookStoreAPI.Data.BookStoreDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-24 15:53:49.299 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-24 15:53:49.381 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (76ms).
2024-09-24 15:53:49.389 +05:30 [DBG] Opening connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:53:49.722 +05:30 [DBG] Opened connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:53:49.747 +05:30 [DBG] Executing DbCommand [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:53:49.796 +05:30 [INF] Executed DbCommand (63ms) [Parameters=[@__loginDTO_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[PasswordHash], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDTO_Username_0
2024-09-24 15:53:49.830 +05:30 [DBG] Context 'BookStoreDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-24 15:53:49.883 +05:30 [DBG] A data reader was disposed.
2024-09-24 15:53:49.890 +05:30 [DBG] Closing connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:53:49.900 +05:30 [DBG] Closed connection to database 'BookStoreAPIDb' on server '(localdb)\MSSQLLocalDB'.
2024-09-24 15:53:49.943 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-24 15:53:49.946 +05:30 [DBG] No information found on request to perform content negotiation.
2024-09-24 15:53:49.946 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-24 15:53:49.946 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-24 15:53:49.947 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-24 15:53:49.948 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-24 15:53:49.982 +05:30 [INF] Executed action BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI) in 2224.1099ms
2024-09-24 15:53:49.984 +05:30 [INF] Executed endpoint 'BookStoreAPI.Controllers.AuthController.LoginAsync (BookStoreAPI)'
2024-09-24 15:53:49.988 +05:30 [DBG] Connection ID "18374686489872171041" disconnecting.
2024-09-24 15:53:49.991 +05:30 [DBG] 'BookStoreDbContext' disposed.
2024-09-24 15:53:49.994 +05:30 [INF] Request finished HTTP/2 POST https://localhost:44310/api/Auth/login application/json 43 - 200 - application/json;+charset=utf-8 2502.7506ms
